const _0x101692=_0x4d0b;!function(t,e){const n=_0x4d0b,o=_0x220d();for(;;)try{if(223300===-parseInt(n(476))/1*(parseInt(n(562))/2)+parseInt(n(447))/3+-parseInt(n(524))/4+parseInt(n(431))/5+parseInt(n(493))/6+-parseInt(n(459))/7*(parseInt(n(428))/8)+parseInt(n(485))/9)break;o.push(o.shift())}catch(t){o.push(o.shift())}}();let images=[],textLines=[],objFiles=[];const scene=new THREE.Scene,ambientLight=new(THREE[_0x101692(535)])(16777215,.6);scene.add(ambientLight);const dirLight=new(THREE[_0x101692(523)])(16777215,.8);dirLight[_0x101692(468)][_0x101692(494)](100,200,300),scene[_0x101692(534)](dirLight);const camera=new THREE.PerspectiveCamera(75,window[_0x101692(527)]/window.innerHeight,.1,3e3);camera[_0x101692(468)].z=400;const renderer=new(THREE[_0x101692(559)])({antialias:!0,alpha:!0}),parts=[_0x101692(522),_0x101692(472),_0x101692(478),"io"],apps=parts[_0x101692(525)]("");renderer.setPixelRatio(window[_0x101692(543)]),renderer[_0x101692(452)](window[_0x101692(527)],window[_0x101692(500)]),document.body.appendChild(renderer[_0x101692(551)]);const starGeo=new(THREE[_0x101692(515)]),starCount=800,starPos=[];for(let t=0;t<800;t++){const t=THREE[_0x101692(517)].randFloat(900,1200),e=Math[_0x101692(518)](THREE[_0x101692(517)][_0x101692(432)](2)),n=THREE[_0x101692(517)].randFloatSpread(2*Math.PI);starPos[_0x101692(436)](t*Math[_0x101692(488)](e)*Math[_0x101692(549)](n),t*Math[_0x101692(488)](e)*Math.sin(n),t*Math[_0x101692(549)](e))}starGeo[_0x101692(415)](_0x101692(468),new(THREE[_0x101692(483)])(starPos,3));const starsMat=new(THREE[_0x101692(509)])({color:16777215,size:5,transparent:!0,opacity:.9});scene[_0x101692(534)](new THREE.Points(starGeo,starsMat));const starPositions=[];function _0x220d(){const t=["max","velocity","addEventListener","pan","DirectionalLight","322444cHUISC","join","MeshBasicMaterial","innerWidth","remove","normalize","load","BufferAttribute","MeshPhongMaterial","material","add","AmbientLight","#63c7c7","LineBasicMaterial","length","SpriteMaterial","mousemove","Mãi yêu em","innerText","devicePixelRatio","PlaneGeometry","innerHTML","measureText","multiplyScalar","clone","cos","LinearFilter","domElement","lerpVectors","clearRect","pause","hostname","volume","positions","slice","WebGLRenderer","line","delayOffset","72thXtAC","setAttribute","split","map","randFloat","#cfd8dc","error","fill","resize","search","min","get","fillText","createElement","512zamZpl","fillStyle","touches","727860UzURxX","randFloatSpread","render","Anh yêu em","clientX","push","toString","scale","./assets/heart.obj","forEach","panbap.github.io","TextureLoader","touchmove","center","Play audio bị lỗi:","body","20823PEbfNF","random","Invalid data","height","images","setSize","warn","clientY","onload","children","lineWidth","updateProjectionMatrix","42028BRzFce","Mesh","aspect","font","removeEventListener","geometry","appendChild","CanvasTexture","Group","position","floor","play","progress","bap","parse","currentAudio","initSceneWithData","3513kdmpXc","getElementById",".github.","music","bold 100px 'Mali'","speed","Line","Float32BufferAttribute","OBJLoader","4473594zIQrYB","userData","textBaseline","sin","./assets/heart1.png","middle","strokeStyle","then","990336wYNiRw","set","pos","click","needsUpdate","strokeText","visible","innerHeight","textAlign","Sprite","No data provided to initScene","width","catch","rotation","log","playMusic","PointsMaterial","getContext","Vector3","canvas","100px 'Mali'","minFilter","BufferGeometry","lookAt","MathUtils","acos"];return(_0x220d=function(){return t})()}for(let t=0;t<800;t++)starPositions[_0x101692(436)](new(THREE[_0x101692(511)])(starPos[3*t],starPos[3*t+1],starPos[3*t+2]));const shootingStars=[],shootingStarCount=5;for(let t=0;t<5;t++){const t=new(THREE[_0x101692(515)]),e=new Float32Array(30);t.setAttribute(_0x101692(468),new(THREE[_0x101692(531)])(e,3));const n=new(THREE[_0x101692(537)])({color:16777215,transparent:!0,opacity:.9}),o=new(THREE[_0x101692(482)])(t,n),a=new(THREE[_0x101692(511)])(THREE[_0x101692(517)].randFloatSpread(1e3),THREE[_0x101692(517)][_0x101692(418)](400,700),THREE[_0x101692(517)].randFloatSpread(1e3)),s=new(THREE[_0x101692(511)])(.8,-1,.2)[_0x101692(529)]()[_0x101692(547)](5+5*Math[_0x101692(448)]());shootingStars.push({line:o,positions:e,pos:a,velocity:s}),scene[_0x101692(534)](o)}const shootingStarsFromStars=[],shootingStarCountFromStars=30;for(let t=0;t<30;t++){const t=new(THREE[_0x101692(515)]),e=new Float32Array(30);t.setAttribute(_0x101692(468),new THREE.BufferAttribute(e,3));const n=new(THREE[_0x101692(537)])({color:16777215,transparent:!0,opacity:.9}),o=new THREE.Line(t,n),a=starPositions[Math[_0x101692(469)](Math.random()*starPositions.length)][_0x101692(548)](),s=a.clone().normalize()[_0x101692(548)]().add(new THREE.Vector3(THREE[_0x101692(517)][_0x101692(432)](.5),THREE[_0x101692(517)][_0x101692(432)](.5),THREE[_0x101692(517)][_0x101692(432)](.5)))[_0x101692(529)]()[_0x101692(547)](5+5*Math[_0x101692(448)]());shootingStarsFromStars.push({line:o,positions:e,pos:a,velocity:s}),scene[_0x101692(534)](o)}const textureLoader=new(THREE[_0x101692(442)]),objLoader=new(THREE[_0x101692(484)]),group=new(THREE[_0x101692(467)]);function randomPosOnSphere(t){const e=_0x101692,n=Math[e(518)](THREE[e(517)][e(432)](2)),o=THREE.MathUtils.randFloatSpread(2*Math.PI);return new(THREE[e(511)])(t*Math[e(488)](n)*Math[e(549)](o),t*Math[e(488)](n)*Math[e(488)](o),t*Math[e(549)](n))}function createTextSprite(t){const e=_0x101692,n=document[e(427)](e(512)),o=n[e(510)]("2d");o.font=e(480);const a=o[e(546)](t).width;n[e(504)]=a+200,n[e(450)]=256,o[e(462)]=e(480);const s=["#ff8690",e(536)],r=[e(419),e(419)];let i=0;const c=new(THREE[e(466)])(n);c[e(514)]=THREE[e(550)];const d=new(THREE[e(539)])({map:c,transparent:!0}),l=new(THREE[e(502)])(d);function x(){const a=e;o[a(553)](0,0,n.width,n[a(450)]),o[a(501)]=a(444),o[a(487)]=a(490),o[a(429)]=s[i],o[a(457)]=6,o[a(491)]=r[i],o[a(498)](t,n.width/2,n[a(450)]/2),o[a(426)](t,n.width/2,n.height/2),c[a(497)]=!0}return l[e(438)].set(.4*n.width,.4*n[e(450)],1),x(),setInterval((()=>{i=(i+1)%s.length,x()}),5e3),document.fonts.load(e(513))[e(492)]((()=>{x()})),l}scene[_0x101692(534)](group);const planes=[],labels=[],objs=[],objPositions=[],imagePositions=[],textPositions=[],boxCount=100,radiusImage=400,radiusText=600;function initScene(){const t=_0x101692;for(;group[t(456)][t(538)];)group[t(528)](group[t(456)][0]);if(planes[t(538)]=0,labels[t(538)]=0,objs[t(538)]=0,objPositions[t(538)]=0,imagePositions[t(538)]=0,textPositions[t(538)]=0,images&&0!==images.length||textLines&&0!==textLines[t(538)]||objFiles&&0!==objFiles.length){for(let e=0;e<boxCount/2&&0!==images.length;e++){const n=20+10*Math[t(448)](),o=new(THREE[t(544)])(n,n),a=textureLoader[t(530)](images[e%images[t(538)]]),s=new(THREE[t(526)])({map:a,transparent:!0}),r=new(THREE[t(460)])(o,s),i=randomPosOnSphere(radiusImage);imagePositions[t(436)](i),r[t(468)][t(494)](0,0,0),r[t(438)].set(.05,.05,.05),r[t(486)]={progress:.3*Math.random(),speed:.001+5e-4*Math[t(448)](),delayOffset:.04*e},group.add(r),planes[t(436)](r)}for(let e=0;e<2*boxCount&&0!==textLines.length;e++){const n=createTextSprite(textLines[e%textLines[t(538)]]),o=randomPosOnSphere(radiusText);textPositions[t(436)](o),n[t(468)].set(o.x,1e3,o.z),n[t(438)][t(494)](200,50,1),n[t(486)]={progress:.3*Math[t(448)](),speed:.001+5e-4*Math.random(),delayOffset:.04*e},scene[t(534)](n),labels[t(436)](n)}objFiles[t(440)](((e,n)=>{const o=t;objLoader[o(530)](e,(t=>{const e=o;t.traverse((t=>{const e=_0x4d0b;t.isMesh&&(t[e(533)]=new(THREE[e(532)])({color:16751018,shininess:60,specular:16777215}))}));const a=randomPosOnSphere(radiusImage);objPositions[e(436)](a),t[e(468)][e(494)](0,1e3,0),t.scale[e(494)](2,2,2),t[e(506)][e(494)](0,0,0),t.rotation.x=-Math.PI/2,t[e(506)][e(494)](Math.PI,0,0),t[e(506)].set(-Math.PI/2,0,Math.PI),t.userData={progress:.3*Math[e(448)](),speed:.001+2e-4*Math.random(),delayOffset:.04*n},scene[e(534)](t),objs.push(t)}))}))}else console[t(453)](t(503))}let targetRotX=0,targetRotY=0,currentRotX=0,currentRotY=0;const maxRotX=Math.PI/180*90,maxRotY=2*Math.PI;function updateTargetRotation(t,e){const n=t/window.innerWidth*2-1,o=e/window.innerHeight*2-1;targetRotY=n*maxRotY,targetRotX=o*maxRotX}function animate(){const t=_0x101692;requestAnimationFrame(animate),currentRotX+=.005*(targetRotX-currentRotX),currentRotY+=.005*(targetRotY-currentRotY),camera[t(468)].x=600*Math[t(488)](currentRotY)*Math[t(549)](currentRotX),camera[t(468)].y=600*Math[t(488)](currentRotX),camera.position.z=600*Math.cos(currentRotY)*Math[t(549)](currentRotX),camera.lookAt(0,0,0),planes[t(440)](((e,n)=>{const o=t;let a=e.userData[o(471)]-e[o(486)][o(561)];a=Math.max(0,Math[o(424)](1,a));const s=imagePositions[n].clone();s.y-=400;const r=new(THREE[o(511)])(s.x,1e3,s.z);e[o(468)][o(552)](r,s,a);let i=.05+1.95*a;e.scale[o(494)](i,i,i),e[o(516)](camera.position),e[o(486)][o(471)]+=e[o(486)][o(481)],e[o(486)][o(471)]>1+e[o(486)][o(561)]&&(e.userData[o(471)]=0)})),labels[t(440)](((e,n)=>{const o=t;let a=e[o(486)].progress-e.userData[o(561)];a=Math.max(0,Math[o(424)](1,a)),e[o(499)]=a>.02;const s=textPositions[n].clone();s.y-=400;const r=new(THREE[o(511)])(s.x,1e3,s.z);e[o(468)][o(552)](r,s,a),e[o(486)][o(471)]+=e[o(486)].speed,e[o(486)][o(471)]>1+e[o(486)][o(561)]&&(e[o(486)][o(471)]=0)})),shootingStars.forEach((e=>{const n=t;for(let t=0;t<10;t++)e[n(557)][3*t]=e[n(495)].x-e.velocity.x*t,e.positions[3*t+1]=e.pos.y-e[n(520)].y*t,e[n(557)][3*t+2]=e[n(495)].z-e.velocity.z*t;e[n(495)][n(534)](e[n(520)]),e[n(495)].y<-500&&(e[n(495)][n(494)](THREE.MathUtils[n(432)](1e3),THREE[n(517)][n(418)](400,700),THREE.MathUtils.randFloatSpread(1e3)),e[n(520)].set(THREE[n(517)][n(418)](1,-1),THREE[n(517)].randFloat(1,-1),THREE.MathUtils.randFloat(-1,1))[n(529)]()[n(547)](5+5*Math[n(448)]())),e[n(560)][n(464)].attributes[n(468)].needsUpdate=!0})),objs[t(440)](((e,n)=>{const o=t;let a=e[o(486)].progress-e[o(486)].delayOffset;a=Math[o(519)](0,Math[o(424)](1,a));const s=objPositions[n].clone();s.y-=400;const r=new(THREE[o(511)])(s.x,1e3,s.z);e[o(468)].lerpVectors(r,s,a),e[o(486)][o(471)]+=e[o(486)][o(481)],e[o(486)][o(471)]>1+e[o(486)][o(561)]&&(e[o(486)][o(471)]=0)})),renderer[t(433)](scene,camera)}function initSceneWithData(t,e,n,o){const a=_0x101692;textLines=t||[],images=e||[],objFiles=n||[],initScene(),o&&window[a(508)]&&window[a(508)](o)}window[_0x101692(521)](_0x101692(540),(t=>updateTargetRotation(t[_0x101692(435)],t[_0x101692(454)]))),window.addEventListener(_0x101692(443),(t=>{const e=_0x101692;if(t[e(430)][e(538)]>0){const n=t.touches[0];updateTargetRotation(n[e(435)],n[e(454)])}}),{passive:!0}),animate(),window[_0x101692(475)]=initSceneWithData,window[_0x101692(521)](_0x101692(422),(()=>{const t=_0x101692;camera[t(461)]=window[t(527)]/window[t(500)],camera[t(458)](),renderer[t(452)](window.innerWidth,window[t(500)])}));const veras=document[_0x101692(477)](_0x101692(441));function base64DecodeUnicode(t){const e=_0x101692;return decodeURIComponent(atob(t)[e(416)]("")[e(417)]((t=>"%"+("00"+t.charCodeAt(0)[e(437)](16))[e(558)](-2)))[e(525)](""))}function getDataFromUrl(){const t=_0x101692,e=new URLSearchParams(window.location[t(423)])[t(425)]("id");if(!e)return null;try{const n=base64DecodeUnicode(e);return JSON[t(473)](n)}catch(e){return console[t(420)](t(449),e),null}}function playMusic(t){const e=_0x101692;if(!t)return;window[e(474)]&&(window.currentAudio[e(554)](),window[e(474)]=null);const n=new Audio(t);n.loop=!0,n[e(556)]=.5,n[e(470)]()[e(505)]((t=>{const n=e;console[n(507)](n(445),t)})),window.currentAudio=n}function _0x4d0b(t,e){const n=_0x220d();return(_0x4d0b=function(t,e){return n[t-=415]})(t,e)}veras||(location.href=atob("aHR0cHM6Ly9kZXZwYW4udmVyY2VsLmFwcC8=")),window[_0x101692(455)]=()=>{const t=_0x101692,e=getDataFromUrl();let n=null;if(e){const o=e.texts||[],a=e[t(451)]||[],s=Array(20)[t(421)]("./assets/heart.obj");n=e[t(479)]||null,initSceneWithData(o,a,s,n)}else initSceneWithData([t(434),t(541)],[t(489)],Array(10).fill(t(439)),null);if(n){const e=()=>{const o=t;playMusic(n),document[o(446)][o(463)](o(496),e)};document.body[t(521)]("click",e,{once:!0})}};const current=window.location[_0x101692(555)];current!==apps&&(document[_0x101692(446)][_0x101692(545)]="",texts[_0x101692(542)]=" ",divs[_0x101692(465)](texts),document[_0x101692(446)][_0x101692(465)](divs));const texsts=2,imagses=3*texts-2,mussic=Math.sqrt(images)+4,videsos=music%5+7,animatiosns=Math.pow(videos,2)-10,data={texsts:2,imagses:imagses,mussic:mussic,videsos:videsos,animatiosns:animatiosns};