const _0x1de1de=_0x599d;!function(e,t){const n=_0x599d,o=_0x2a62();for(;;)try{if(608550===-parseInt(n(291))/1*(parseInt(n(346))/2)+-parseInt(n(337))/3*(parseInt(n(264))/4)+-parseInt(n(336))/5*(parseInt(n(306))/6)+-parseInt(n(328))/7*(-parseInt(n(202))/8)+-parseInt(n(217))/9*(parseInt(n(218))/10)+-parseInt(n(321))/11+parseInt(n(266))/12*(parseInt(n(290))/13))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();let images=[],textLines=[],objFiles=[];function _0x599d(e,t){const n=_0x2a62();return(_0x599d=function(e,t){return n[e-=201]})(e,t)}const scene=new THREE.Scene,ambientLight=new(THREE[_0x1de1de(252)])(16777215,.6);scene[_0x1de1de(294)](ambientLight);const dirLight=new(THREE[_0x1de1de(292)])(16777215,.8);dirLight[_0x1de1de(222)].set(100,200,300),scene[_0x1de1de(294)](dirLight);const camera=new(THREE[_0x1de1de(322)])(75,window[_0x1de1de(213)]/window[_0x1de1de(204)],.1,3e3);camera.position.z=400;const renderer=new(THREE[_0x1de1de(326)])({antialias:!0,alpha:!0}),rent=atob("cGFuYmFwLmdpdGh1Yi5pbw==");renderer[_0x1de1de(310)](window.devicePixelRatio),renderer[_0x1de1de(221)](window[_0x1de1de(213)],window[_0x1de1de(204)]),document[_0x1de1de(233)].appendChild(renderer.domElement);const starGeo=new(THREE[_0x1de1de(261)]),starCount=800,starPos=[];for(let e=0;e<800;e++){const e=THREE.MathUtils[_0x1de1de(224)](900,1200),t=Math[_0x1de1de(258)](THREE[_0x1de1de(242)][_0x1de1de(268)](2)),n=THREE[_0x1de1de(242)].randFloatSpread(2*Math.PI);starPos[_0x1de1de(223)](e*Math[_0x1de1de(313)](t)*Math.cos(n),e*Math.sin(t)*Math[_0x1de1de(313)](n),e*Math.cos(t))}function _0x2a62(){const e=["normalize","set","error","Anh yêu em","speed","preventDefault","touchmove","href","log","scale","6YcfSKa","addEventListener","ctrlKey","parse","setPixelRatio","#ff8690","currentAudio","sin","remove","canvas","getContext","loop","MeshPhongMaterial","velocity","strokeStyle","3226322RhStfL","PerspectiveCamera","measureText","attributes","textBaseline","WebGLRenderer","removeEventListener","114408rWHZiJ","resize","Mesh","multiplyScalar","SpriteMaterial","geometry","#cfd8dc","strokeText","5127205QChirU","3lHjFQp","textAlign","CanvasTexture","touches","search","MeshBasicMaterial","userData","F12","charCodeAt","20rwHscO","delayOffset","middle","warn","click","Points","80XUAyRy","length","innerHeight","play","lerpVectors","font","progress","needsUpdate","forEach","positions","updateProjectionMatrix","innerWidth","Sprite","TextureLoader","render","747oNChXk","102890YslTdw","split","Vector3","setSize","position","push","randFloat","initSceneWithData","pos","lineWidth","fillText","aspect","Float32BufferAttribute","min","rotation","body","keydown","hostname","clone","random","setAttribute","max","OBJLoader","music","MathUtils","fillStyle","fonts","visible","getElementById","Line","location","onload","mousemove","Play audio bị lỗi:","AmbientLight","fill","./assets/heart.obj","LineBasicMaterial","cGFuYmFwLmdpdGh1Yi5pbw==","get","acos","line","toString","BufferGeometry","floor","texts","4634732GZJBUL","width","12llmeto","join","randFloatSpread","#63c7c7","material","key","volume","100px 'Mali'","slice","clearRect","clientY","Invalid data","height","cos","children","isMesh","PlaneGeometry","createElement","innerHTML","PointsMaterial","BufferAttribute","clientX","aHR0cHM6Ly9kZXZwYW4udmVyY2VsLmFwcA==","bold 100px 'Mali'","58403969jiNGjy","71609bdkGUe","DirectionalLight","playMusic","add","lookAt"];return(_0x2a62=function(){return e})()}starGeo.setAttribute("position",new(THREE[_0x1de1de(230)])(starPos,3));const starsMat=new(THREE[_0x1de1de(285)])({color:16777215,size:5,transparent:!0,opacity:.9});scene[_0x1de1de(294)](new(THREE[_0x1de1de(201)])(starGeo,starsMat));const starPositions=[];for(let e=0;e<800;e++)starPositions[_0x1de1de(223)](new(THREE[_0x1de1de(220)])(starPos[3*e],starPos[3*e+1],starPos[3*e+2]));const shootingStars=[],shootingStarCount=5;for(let e=0;e<5;e++){const e=new(THREE[_0x1de1de(261)]),t=new Float32Array(30);e[_0x1de1de(238)]("position",new THREE.BufferAttribute(t,3));const n=new(THREE[_0x1de1de(255)])({color:16777215,transparent:!0,opacity:.9}),o=new(THREE[_0x1de1de(247)])(e,n),a=new THREE.Vector3(THREE.MathUtils[_0x1de1de(268)](1e3),THREE[_0x1de1de(242)].randFloat(400,700),THREE.MathUtils[_0x1de1de(268)](1e3)),s=new(THREE[_0x1de1de(220)])(.8,-1,.2)[_0x1de1de(296)]()[_0x1de1de(331)](5+5*Math[_0x1de1de(237)]());shootingStars[_0x1de1de(223)]({line:o,positions:t,pos:a,velocity:s}),scene[_0x1de1de(294)](o)}const shootingStarsFromStars=[],shootingStarCountFromStars=30;for(let e=0;e<30;e++){const e=new(THREE[_0x1de1de(261)]),t=new Float32Array(30);e[_0x1de1de(238)](_0x1de1de(222),new(THREE[_0x1de1de(286)])(t,3));const n=new(THREE[_0x1de1de(255)])({color:16777215,transparent:!0,opacity:.9}),o=new(THREE[_0x1de1de(247)])(e,n),a=starPositions[Math[_0x1de1de(262)](Math.random()*starPositions[_0x1de1de(203)])][_0x1de1de(236)](),s=a.clone()[_0x1de1de(296)]()[_0x1de1de(236)]()[_0x1de1de(294)](new(THREE[_0x1de1de(220)])(THREE[_0x1de1de(242)][_0x1de1de(268)](.5),THREE.MathUtils[_0x1de1de(268)](.5),THREE[_0x1de1de(242)].randFloatSpread(.5)))[_0x1de1de(296)]().multiplyScalar(5+5*Math[_0x1de1de(237)]());shootingStarsFromStars[_0x1de1de(223)]({line:o,positions:t,pos:a,velocity:s}),scene[_0x1de1de(294)](o)}const textureLoader=new(THREE[_0x1de1de(215)]),objLoader=new(THREE[_0x1de1de(240)]),group=new THREE.Group;function randomPosOnSphere(e){const t=_0x1de1de,n=Math[t(258)](THREE[t(242)][t(268)](2)),o=THREE[t(242)].randFloatSpread(2*Math.PI);return new(THREE[t(220)])(e*Math[t(313)](n)*Math[t(279)](o),e*Math.sin(n)*Math[t(313)](o),e*Math[t(279)](n))}function createTextSprite(e){const t=_0x1de1de,n=document[t(283)](t(315)),o=n[t(316)]("2d");o.font=t(289);const a=o[t(323)](e)[t(265)];n[t(265)]=a+200,n[t(278)]=256,o[t(207)]=t(289);const s=[t(311),t(269)],d=[t(334),t(334)];let r=0;const i=new(THREE[t(339)])(n);i.minFilter=THREE.LinearFilter;const c=new(THREE[t(332)])({map:i,transparent:!0}),l=new(THREE[t(214)])(c);function x(){const a=t;o[a(275)](0,0,n[a(265)],n.height),o[a(338)]="center",o[a(325)]=a(348),o[a(243)]=s[r],o[a(227)]=6,o[a(320)]=d[r],o[a(335)](e,n[a(265)]/2,n[a(278)]/2),o[a(228)](e,n[a(265)]/2,n[a(278)]/2),i[a(209)]=!0}return l[t(305)][t(297)](.4*n[t(265)],.4*n[t(278)],1),x(),setInterval((()=>{r=(r+1)%s[t(203)],x()}),5e3),document[t(244)].load(t(273)).then((()=>{x()})),l}scene[_0x1de1de(294)](group);const planes=[],labels=[],objs=[],objPositions=[],imagePositions=[],textPositions=[],boxCount=100,radiusImage=400,radiusText=600;function initScene(){const e=_0x1de1de;for(;group[e(280)][e(203)];)group[e(314)](group.children[0]);if(planes.length=0,labels.length=0,objs[e(203)]=0,objPositions[e(203)]=0,imagePositions.length=0,textPositions[e(203)]=0,images&&0!==images[e(203)]||textLines&&0!==textLines[e(203)]||objFiles&&0!==objFiles[e(203)]){for(let t=0;t<boxCount/2&&0!==images.length;t++){const n=20+10*Math[e(237)](),o=new(THREE[e(282)])(n,n),a=textureLoader.load(images[t%images.length]),s=new(THREE[e(342)])({map:a,transparent:!0}),d=new(THREE[e(330)])(o,s),r=randomPosOnSphere(radiusImage);imagePositions[e(223)](r),d[e(222)][e(297)](0,0,0),d.scale.set(.05,.05,.05),d.userData={progress:.3*Math[e(237)](),speed:.001+5e-4*Math[e(237)](),delayOffset:.04*t},group.add(d),planes.push(d)}for(let t=0;t<2*boxCount&&0!==textLines[e(203)];t++){const n=createTextSprite(textLines[t%textLines[e(203)]]),o=randomPosOnSphere(radiusText);textPositions[e(223)](o),n.position.set(o.x,1e3,o.z),n[e(305)][e(297)](200,50,1),n[e(343)]={progress:.3*Math[e(237)](),speed:.001+5e-4*Math.random(),delayOffset:.04*t},scene.add(n),labels[e(223)](n)}objFiles[e(210)](((e,t)=>{objLoader.load(e,(e=>{const n=_0x599d;e.traverse((e=>{const t=_0x599d;e[t(281)]&&(e[t(270)]=new(THREE[t(318)])({color:16751018,shininess:60,specular:16777215}))}));const o=randomPosOnSphere(radiusImage);objPositions[n(223)](o),e.position[n(297)](0,1e3,0),e[n(305)][n(297)](2,2,2),e[n(232)][n(297)](0,0,0),e.rotation.x=-Math.PI/2,e.rotation[n(297)](Math.PI,0,0),e[n(232)][n(297)](-Math.PI/2,0,Math.PI),e[n(343)]={progress:.3*Math.random(),speed:.001+2e-4*Math[n(237)](),delayOffset:.04*t},scene[n(294)](e),objs[n(223)](e)}))}))}else console[e(349)]("No data provided to initScene")}let targetRotX=0,targetRotY=0,currentRotX=0,currentRotY=0;const maxRotX=Math.PI/180*90,maxRotY=2*Math.PI;function updateTargetRotation(e,t){const n=_0x1de1de,o=e/window.innerWidth*2-1,a=t/window[n(204)]*2-1;targetRotY=o*maxRotY,targetRotX=a*maxRotX}function animate(){const e=_0x1de1de;requestAnimationFrame(animate),currentRotX+=.005*(targetRotX-currentRotX),currentRotY+=.005*(targetRotY-currentRotY),camera[e(222)].x=600*Math[e(313)](currentRotY)*Math[e(279)](currentRotX),camera[e(222)].y=600*Math[e(313)](currentRotX),camera[e(222)].z=600*Math.cos(currentRotY)*Math[e(279)](currentRotX),camera[e(295)](0,0,0),planes[e(210)](((t,n)=>{const o=e;let a=t.userData[o(208)]-t.userData[o(347)];a=Math[o(239)](0,Math.min(1,a));const s=imagePositions[n][o(236)]();s.y-=400;const d=new(THREE[o(220)])(s.x,1e3,s.z);t[o(222)][o(206)](d,s,a);let r=.05+1.95*a;t.scale[o(297)](r,r,r),t[o(295)](camera[o(222)]),t.userData[o(208)]+=t[o(343)].speed,t[o(343)][o(208)]>1+t[o(343)].delayOffset&&(t.userData[o(208)]=0)})),labels[e(210)](((t,n)=>{const o=e;let a=t[o(343)].progress-t[o(343)].delayOffset;a=Math[o(239)](0,Math[o(231)](1,a)),t[o(245)]=a>.02;const s=textPositions[n][o(236)]();s.y-=400;const d=new(THREE[o(220)])(s.x,1e3,s.z);t[o(222)][o(206)](d,s,a),t.userData[o(208)]+=t[o(343)][o(300)],t[o(343)][o(208)]>1+t[o(343)].delayOffset&&(t.userData.progress=0)})),shootingStars.forEach((t=>{const n=e;for(let e=0;e<10;e++)t.positions[3*e]=t[n(226)].x-t[n(319)].x*e,t.positions[3*e+1]=t.pos.y-t.velocity.y*e,t[n(211)][3*e+2]=t[n(226)].z-t[n(319)].z*e;t[n(226)][n(294)](t[n(319)]),t[n(226)].y<-500&&(t[n(226)][n(297)](THREE.MathUtils.randFloatSpread(1e3),THREE[n(242)].randFloat(400,700),THREE[n(242)].randFloatSpread(1e3)),t[n(319)][n(297)](THREE.MathUtils[n(224)](1,-1),THREE[n(242)][n(224)](1,-1),THREE.MathUtils[n(224)](-1,1)).normalize()[n(331)](5+5*Math[n(237)]())),t[n(259)][n(333)][n(324)][n(222)][n(209)]=!0})),objs[e(210)](((t,n)=>{const o=e;let a=t[o(343)][o(208)]-t.userData.delayOffset;a=Math[o(239)](0,Math[o(231)](1,a));const s=objPositions[n][o(236)]();s.y-=400;const d=new THREE.Vector3(s.x,1e3,s.z);t.position[o(206)](d,s,a),t[o(343)][o(208)]+=t[o(343)][o(300)],t[o(343)][o(208)]>1+t[o(343)][o(347)]&&(t.userData[o(208)]=0)})),renderer[e(216)](scene,camera)}function initSceneWithData(e,t,n,o){const a=_0x1de1de;textLines=e||[],images=t||[],objFiles=n||[],initScene(),o&&window[a(293)]&&window[a(293)](o)}window[_0x1de1de(307)](_0x1de1de(250),(e=>updateTargetRotation(e[_0x1de1de(287)],e[_0x1de1de(276)]))),window[_0x1de1de(307)](_0x1de1de(302),(e=>{const t=_0x1de1de;if(e[t(340)].length>0){const n=e[t(340)][0];updateTargetRotation(n.clientX,n.clientY)}}),{passive:!0}),document[_0x1de1de(307)](_0x1de1de(234),(function(e){const t=_0x1de1de;(t(344)===e[t(271)]||e[t(308)]&&e.shiftKey&&("I"===e[t(271)]||"J"===e[t(271)])||e[t(308)]&&"U"===e[t(271)])&&(e[t(301)](),location=atob(t(288)))})),document[_0x1de1de(307)]("contextmenu",(function(e){e[_0x1de1de(301)]()})),animate(),window[_0x1de1de(225)]=initSceneWithData,window.addEventListener(_0x1de1de(329),(()=>{const e=_0x1de1de;camera[e(229)]=window[e(213)]/window[e(204)],camera[e(212)](),renderer.setSize(window[e(213)],window[e(204)])}));const vastar=document[_0x1de1de(246)](atob(_0x1de1de(256)));function base64DecodeUnicode(e){const t=_0x1de1de;return decodeURIComponent(atob(e)[t(219)]("").map((e=>"%"+("00"+e[t(345)](0)[t(260)](16))[t(274)](-2)))[t(267)](""))}function getDataFromUrl(){const e=_0x1de1de,t=new URLSearchParams(window[e(248)][e(341)])[e(257)]("id");if(!t)return null;try{const n=base64DecodeUnicode(t);return JSON[e(309)](n)}catch(t){return console[e(298)](e(277),t),null}}function playMusic(e){const t=_0x1de1de;if(!e)return;window[t(312)]&&(window[t(312)].pause(),window[t(312)]=null);const n=new Audio(e);n[t(317)]=!0,n[t(272)]=.5,n[t(205)]().catch((e=>{const n=t;console[n(304)](n(251),e)})),window[t(312)]=n}vastar||(location[_0x1de1de(303)]=atob("aHR0cHM6Ly9kZXZwYW4udmVyY2VsLmFwcC8=")),window[_0x1de1de(249)]=()=>{const e=_0x1de1de,t=getDataFromUrl();let n=null;if(t){const o=t[e(263)]||[],a=t.images||[],s=Array(20)[e(253)](e(254));n=t[e(241)]||null,initSceneWithData(o,a,s,n)}else initSceneWithData([e(299),"Mãi yêu em"],["./assets/heart1.png"],Array(10)[e(253)](e(254)),null);if(n){const t=()=>{const o=e;playMusic(n),document[o(233)][o(327)](o(350),t)};document.body[e(307)](e(350),t,{once:!0})}};const cur=location[_0x1de1de(235)];cur!==rent&&(document.body[_0x1de1de(284)]="");