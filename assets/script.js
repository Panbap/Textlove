const _0x31d96e=_0x11bf;(function(_0x2c0eaf,_0x3bb02a){const _0x3f1723=_0x11bf,_0x21971a=_0x2c0eaf();while(!![]){try{const _0x52abae=parseInt(_0x3f1723(0x166))/0x1+parseInt(_0x3f1723(0x100))/0x2+-parseInt(_0x3f1723(0x127))/0x3+-parseInt(_0x3f1723(0x12a))/0x4+parseInt(_0x3f1723(0x110))/0x5*(-parseInt(_0x3f1723(0x12f))/0x6)+-parseInt(_0x3f1723(0x165))/0x7+parseInt(_0x3f1723(0xdd))/0x8;if(_0x52abae===_0x3bb02a)break;else _0x21971a['push'](_0x21971a['shift']());}catch(_0x377ad6){_0x21971a['push'](_0x21971a['shift']());}}}(_0x33e3,0x1d2c8));const style=document[_0x31d96e(0x14f)](_0x31d96e(0x167));style[_0x31d96e(0xd4)]=_0x31d96e(0x136),document[_0x31d96e(0x13d)][_0x31d96e(0x130)](style),document[_0x31d96e(0xe6)]('imageLinks')[_0x31d96e(0x13c)]=_0x31d96e(0xeb);const encodeData=_0x383180=>btoa(encodeURIComponent(_0x383180)[_0x31d96e(0xf8)](/%(\w{2})/g,(_0x3eedd7,_0x2f56cd)=>String[_0x31d96e(0xd5)]('0x'+_0x2f56cd)))[_0x31d96e(0xf8)](/[+/=]/g,_0x398b88=>({'+':'-','/':'_','=':''}[_0x398b88]||'')),decodeData=_0x101772=>{const _0x5b8cb9=_0x31d96e;for(_0x101772=_0x101772[_0x5b8cb9(0xf8)](/[-_]/g,_0x3b6ba5=>({'-':'+','_':'/'}[_0x3b6ba5]));_0x101772['length']%0x4;)_0x101772+='=';return decodeURIComponent(atob(_0x101772)[_0x5b8cb9(0x150)]('')[_0x5b8cb9(0xe5)](_0x590718=>'%'+_0x590718['charCodeAt'](0x0)[_0x5b8cb9(0x135)](0x10)[_0x5b8cb9(0x105)](0x2,'0'))[_0x5b8cb9(0x172)](''));};function getDataFromURL(){const _0x1308f3=_0x31d96e;if(location[_0x1308f3(0x113)]['startsWith']('#data=')){const _0x1ad550=location[_0x1308f3(0x113)][_0x1308f3(0x146)](0x6),_0x317948=decodeData(_0x1ad550);if(_0x317948)try{return JSON[_0x1308f3(0x12e)](_0x317948);}catch{return null;}}return null;}const inputTextEl=document[_0x31d96e(0xe6)]('inputText'),imageLinksEl=document['getElementById'](_0x31d96e(0x145)),startBtn=document['getElementById'](_0x31d96e(0x148)),shareLinkEl=document['getElementById']('shareLink'),qrBtn=document[_0x31d96e(0xe6)](_0x31d96e(0xf7)),heartFrame=document[_0x31d96e(0x15f)]('.heart-frame'),canvas=document[_0x31d96e(0xe6)](_0x31d96e(0xff)),ctx=canvas[_0x31d96e(0x13f)]('2d'),musicSelector=document[_0x31d96e(0xe6)](_0x31d96e(0x122));let audio=null;function waitUserToStartMusic(_0x3a8d8b){const _0x4fd607=_0x31d96e,_0x4f85de=()=>{const _0x1471fd=_0x11bf;playMusic(_0x3a8d8b),document[_0x1471fd(0x152)](_0x1471fd(0xd3),_0x4f85de),document['removeEventListener'](_0x1471fd(0x102),_0x4f85de);};document[_0x4fd607(0x15e)](_0x4fd607(0xd3),_0x4f85de),document[_0x4fd607(0x15e)](_0x4fd607(0x102),_0x4f85de);}function playMusic(_0x559d16){const _0x5eb270=_0x31d96e;audio&&(audio[_0x5eb270(0xd7)](),audio=null),_0x559d16&&(audio=new Audio(_0x559d16),audio['loop']=!0x0,audio['volume']=0.5,audio['play']()[_0x5eb270(0x168)](_0x1d7d29=>{const _0x5f2b41=_0x5eb270;console[_0x5f2b41(0xdf)](_0x5f2b41(0x124),_0x1d7d29);}));}function updateURLParam(_0x23390a,_0x4700d7){const _0x3fc51b=_0x31d96e,_0x544bba=new URL(window[_0x3fc51b(0x128)]);_0x4700d7?_0x544bba[_0x3fc51b(0xe4)][_0x3fc51b(0x176)](_0x23390a,_0x4700d7):_0x544bba[_0x3fc51b(0xe4)][_0x3fc51b(0x111)](_0x23390a),window[_0x3fc51b(0xf6)][_0x3fc51b(0x10f)]({},'',_0x544bba);}musicSelector[_0x31d96e(0x15e)]('change',()=>{const _0x1019cb=_0x31d96e,_0x529c8c=musicSelector[_0x1019cb(0xea)];updateURLParam(_0x1019cb(0x154),_0x529c8c),playMusic(_0x529c8c);}),window['addEventListener']('load',()=>{const _0x2db6a6=_0x31d96e,_0x1fe744=getDataFromURL();_0x1fe744&&_0x1fe744[_0x2db6a6(0x154)]&&(musicSelector[_0x2db6a6(0xea)]=_0x1fe744[_0x2db6a6(0x154)],waitUserToStartMusic(_0x1fe744[_0x2db6a6(0x154)]));});let images=[],textLines=[];const scene=new THREE[(_0x31d96e(0x142))](),camera=new THREE[(_0x31d96e(0x129))](0x4b,window[_0x31d96e(0x163)]/window['innerHeight'],0.1,0xbb8);camera[_0x31d96e(0x16d)]['z']=0x190;const renderer=new THREE[(_0x31d96e(0x140))]({'antialias':!0x0,'alpha':!0x0});function _0x11bf(_0x298bba,_0x3dfbf9){const _0x33e368=_0x33e3();return _0x11bf=function(_0x11bf44,_0x10b245){_0x11bf44=_0x11bf44-0xd1;let _0x3961ae=_0x33e368[_0x11bf44];return _0x3961ae;},_0x11bf(_0x298bba,_0x3dfbf9);}renderer['setPixelRatio'](window['devicePixelRatio']),renderer[_0x31d96e(0x153)](window[_0x31d96e(0x163)],window[_0x31d96e(0x126)]),document[_0x31d96e(0x147)][_0x31d96e(0x130)](renderer['domElement']);const starGeo=new THREE['BufferGeometry'](),starCount=0x320,starPos=[];for(let e=0x0;e<0x320;e++){const e=THREE[_0x31d96e(0x138)]['randFloat'](0x384,0x4b0),t=Math['acos'](THREE[_0x31d96e(0x138)][_0x31d96e(0xf0)](0x2)),n=THREE[_0x31d96e(0x138)]['randFloatSpread'](0x2*Math['PI']);starPos[_0x31d96e(0x16e)](e*Math[_0x31d96e(0x104)](t)*Math['cos'](n),e*Math[_0x31d96e(0x104)](t)*Math[_0x31d96e(0x104)](n),e*Math[_0x31d96e(0xd1)](t));}starGeo[_0x31d96e(0x108)](_0x31d96e(0x16d),new THREE[(_0x31d96e(0x125))](starPos,0x3));const starsMat=new THREE[(_0x31d96e(0xed))]({'color':0xffffff,'size':0x5,'transparent':!0x0,'opacity':0.9});scene['add'](new THREE['Points'](starGeo,starsMat));const starPositions=[];for(let e=0x0;e<0x320;e++)starPositions[_0x31d96e(0x16e)](new THREE['Vector3'](starPos[0x3*e],starPos[0x3*e+0x1],starPos[0x3*e+0x2]));const shootingStars=[],shootingStarCount=0x5;function _0x33e3(){const _0x37eb38=['userData','removeEventListener','setSize','music','length','display','lerpVectors','MeshBasicMaterial','line','#ff7094','textContent','material','./assets/heart1.png','addEventListener','querySelector','Click\x20để\x20mở\x20link\x20trong\x20tab\x20mới','floor','positions','innerWidth','load','153650QdeCIl','217453wHEsTP','style','catch','pos','strokeText','Mesh','#76b776','position','push','textBaseline','canvas','touches','join','visible','resize','log','set','cos','Chưa\x20có\x20link\x20để\x20tạo\x20QR!\x20Vui\x20lòng\x20tạo\x20link\x20trước.','click','innerHTML','fromCharCode','Vui\x20lòng\x20nhập\x20ít\x20nhất\x20một\x20câu!','pause','block','strokeStyle','textLines','PlaneGeometry','heart_qrcode.png','1759984JwfAQr','origin','warn','Color','download','Group','error','searchParams','map','getElementById','Không\x20có\x20music\x20trong\x20data','aspect','forEach','value','Ví\x20dụ:\x20\x0ahttps://panbap/image1.png\x0ahttps://panbap/image2.png\x0aNhập\x201\x20chữ\x20bất\x20kỳ\x20để\x20bỏ\x20qua\x20ảnh','/Guiloiyeuthuong/index.html','PointsMaterial','clientY','mousemove','randFloatSpread','add','geometry','middle','title','onerror','history','qrBtn','replace','scale','removeChild','clone','velocity','downloadPreview','center','finalCanvas','283788kgLSIt','Lỗi\x20tạo\x20QR\x20code:','touchstart','fillStyle','sin','padStart','Nhạc\x20từ\x20URL:','progress','setAttribute','pathname','normalize','minFilter','getMaxAnisotropy','needsUpdate','donateQR','replaceState','5VTeCSJ','delete','clear','hash','remove','#ffffff','toCanvas','filter','width','multiplyScalar','Sprite','bold\x2072px\x20MyFont','image/png','Vector3','data=','Line','M23.6,0c-3.4,0-6.3,2.7-7.6,5.2C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4\x20c0,9.4,16,21.2,16,21.2s16-11.8,16-21.2C32,3.8,28.2,0,23.6,0z','inline-block','musicSelector','clearRect','Không\x20thể\x20phát\x20nhạc\x20tự\x20động:','Float32BufferAttribute','innerHeight','289152dvpBrh','location','PerspectiveCamera','948324lMXqEn','#cfd8dc','lookAt','BufferGeometry','parse','626604EGEnNB','appendChild','LineBasicMaterial','drawImage','focus','src','toString','\x0a@font-face\x20{\x0a\x20\x20\x20\x20font-family:\x20\x27MyFont\x27;\x0a\x20\x20\x20\x20src:\x20url(\x27./assets/DF.ttf\x27)\x20format(\x27truetype\x27);\x0a}\x0a\x0ahtml,\x0abody\x20{\x0a\x20\x20height:\x20100%;\x0a\x20\x20margin:\x200;\x0a\x20\x20display:\x20flex;\x0a\x20\x20justify-content:\x20center;\x0a\x20\x20align-items:\x20center;\x0a\x20\x20background:\x20linear-gradient(135deg,\x20#1e2a38,\x20#16202b);\x0a\x20\x20color:\x20#cfd8dc;\x0a\x20\x20font-family:\x20\x27SkippySharpiCiel\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20overflow:\x20hidden;\x0a}\x0a\x0ah1\x20{\x0a\x20\x20margin:\x200\x200\x2010px\x200;\x0a\x20\x20text-align:\x20center;\x0a\x20\x20font-family:\x20\x27FrankBellamyiCiel\x27;\x0a\x20\x20font-size:\x2028px;\x0a}\x0a\x0a#ui\x20{\x0a\x20\x20position:\x20fixed;\x0a\x20\x20top:\x2050%;\x0a\x20\x20left:\x2050%;\x0a\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20width:\x20320px;\x0a\x20\x20padding:\x2015px\x2020px;\x0a\x20\x20border-radius:\x2012px;\x0a\x20\x20z-index:\x201000;\x0a\x20\x20backdrop-filter:\x20blur(8px);\x0a\x20\x20box-sizing:\x20border-box;\x0a\x20\x20max-height:\x2080vh;\x0a\x20\x20overflow-y:\x20scroll;\x0a\x20\x20scrollbar-width:\x20none;\x0a\x20\x20-ms-overflow-style:\x20none;\x0a}\x0a\x0a#ui::-webkit-scrollbar\x20{\x0a\x20\x20display:\x20none;\x0a}\x0a\x0a#ui\x20label\x20{\x0a\x20\x20font-weight:\x20600;\x0a\x20\x20font-size:\x2015px;\x0a\x20\x20display:\x20block;\x0a\x20\x20color:\x20#a8c0ff;\x0a}\x0a\x0a#ui\x20textarea\x20{\x0a\x20\x20width:\x2095%;\x0a\x20\x20height:\x2070px;\x0a\x20\x20margin-bottom:\x2012px;\x0a\x20\x20background:\x20#1b1b1b;\x0a\x20\x20border:\x201px\x20solid\x20#3d3d3d;\x0a\x20\x20color:\x20#ddd;\x0a\x20\x20font-size:\x2014px;\x0a\x20\x20resize:\x20vertical;\x0a\x20\x20padding:\x2010px\x2012px;\x0a\x20\x20border-radius:\x208px;\x0a\x20\x20font-family:\x20\x22Courier\x20New\x22,\x20Courier,\x20monospace;\x0a\x20\x20transition:\x20border-color\x200.3s\x20ease;\x0a}\x0a\x0a#ui\x20textarea:focus\x20{\x0a\x20\x20border-color:\x20#66aaff;\x0a\x20\x20outline:\x20none;\x0a\x20\x20background:\x20#222;\x0a}\x0a\x0a#musicSelector\x20{\x0a\x20\x20width:\x20100%;\x0a\x20\x20padding:\x2010px\x2014px;\x0a\x20\x20font-size:\x2015px;\x0a\x20\x20border-radius:\x2012px;\x0a\x20\x20border:\x20none;\x0a\x20\x20background:\x20#223344;\x0a\x20\x20color:\x20#e0e6f3;\x0a\x20\x20text-align-last:\x20center;\x0a\x20\x20text-align:\x20center;\x0a\x20\x20box-shadow:\x20inset\x200\x200\x2010px\x20rgba(0,\x200,\x200,\x200.6);\x0a\x20\x20margin-bottom:\x2015px;\x0a\x20\x20cursor:\x20pointer;\x0a\x20\x20transition:\x20background-color\x200.3s\x20ease;\x0a\x20\x20font-family:\x20\x27SkippySharpiCiel\x27;\x0a}\x0a\x0a#musicSelector:hover\x20{\x0a\x20\x20background-color:\x20#2a3b56;\x0a}\x0a\x0a#buttonContainer\x20{\x0a\x20\x20display:\x20flex;\x0a\x20\x20gap:\x2012px;\x0a}\x0a\x0a#startBtn,\x0a#qrBtn\x20{\x0a\x20\x20flex:\x201;\x0a\x20\x20padding:\x2012px\x200;\x0a\x20\x20background:\x20#4a90e2;\x0a\x20\x20border:\x20none;\x0a\x20\x20color:\x20white;\x0a\x20\x20font-weight:\x20700;\x0a\x20\x20font-size:\x2017px;\x0a\x20\x20cursor:\x20pointer;\x0a\x20\x20border-radius:\x2010px;\x0a\x20\x20box-shadow:\x200\x205px\x2015px\x20rgba(74,\x20144,\x20226,\x200.6);\x0a\x20\x20transition:\x20background-color\x200.3s\x20ease,\x20box-shadow\x200.3s\x20ease;\x0a}\x0a\x0a#startBtn:hover\x20{\x0a\x20\x20background:\x20#6aa0ff;\x0a\x20\x20box-shadow:\x200\x208px\x2025px\x20rgba(106,\x20160,\x20255,\x200.8);\x0a}\x0a\x0a#shareLink\x20{\x0a\x20\x20display:\x20inline-block;\x0a\x20\x20max-width:\x20250px;\x0a\x20\x20white-space:\x20nowrap;\x0a\x20\x20overflow:\x20hidden;\x0a\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20vertical-align:\x20bottom;\x0a\x20\x20color:\x20#42a5f5;\x0a\x20\x20cursor:\x20pointer;\x0a\x20\x20text-decoration:\x20underline;\x0a\x20\x20font-size:\x2015px;\x0a\x20\x20user-select:\x20all;\x0a\x20\x20margin-top:\x2010px;\x0a\x20\x20text-align:\x20center;\x0a}\x0a\x0a.heart-frame\x20{\x0a\x20\x20position:\x20relative;\x0a\x20\x20width:\x20320px;\x0a\x20\x20height:\x20296px;\x0a\x20\x20margin:\x2020px\x20auto;\x0a}\x0a\x0a#finalCanvas\x20{\x0a\x20\x20cursor:\x20pointer;\x0a\x20\x20display:\x20block;\x0a\x20\x20margin:\x200\x20auto;\x0a\x20\x20border-radius:\x2012px;\x0a\x20\x20box-shadow:\x200\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a}\x0a\x0a.info-text\x20{\x0a\x20\x20text-align:\x20center;\x0a\x20\x20color:\x20#ff679a;\x0a\x20\x20font-size:\x2012px;\x0a\x20\x20margin-top:\x205px;\x0a}\x0a\x0atextarea\x20{\x0a\x20\x20\x20\x20width:\x20300px;\x0a\x20\x20\x20\x20height:\x20150px;\x0a\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20#cccccc00;\x0a\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20resize:\x20both;\x0a}\x0a\x0atextarea::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20width:\x2010px;\x0a\x20\x20\x20\x20height:\x2010px;\x0a}\x0a\x0atextarea::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background-color:\x20#888;\x0a\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20border:\x202px\x20solid\x20#ffffff00;\x0a}\x0a\x0atextarea::-webkit-scrollbar-thumb:hover\x20{\x0a\x20\x20\x20\x20background-color:\x20#555;\x0a}\x0a\x0atextarea::-webkit-scrollbar-track\x20{\x0a\x20\x20\x20\x20background-color:\x20#f1f1f100;\x0a\x20\x20\x20\x20border-radius:\x205px;\x0a}\x0a','shareLink','MathUtils','height','clientX','trim','placeholder','head','attributes','getContext','WebGLRenderer','randFloat','Scene','lineWidth','none','imageLinks','slice','body','startBtn','copy','anisotropy','href','capabilities','onload','random','createElement','split'];_0x33e3=function(){return _0x37eb38;};return _0x33e3();}for(let e=0x0;e<0x5;e++){const e=new THREE['BufferGeometry'](),t=new Float32Array(0x1e);e['setAttribute']('position',new THREE['BufferAttribute'](t,0x3));const n=new THREE['LineBasicMaterial']({'color':0xffffff,'transparent':!0x0,'opacity':0.9}),o=new THREE[(_0x31d96e(0x11f))](e,n),a=new THREE[(_0x31d96e(0x11d))](THREE[_0x31d96e(0x138)][_0x31d96e(0xf0)](0x3e8),THREE[_0x31d96e(0x138)][_0x31d96e(0x141)](0x190,0x2bc),THREE[_0x31d96e(0x138)][_0x31d96e(0xf0)](0x3e8)),i=new THREE[(_0x31d96e(0x11d))](0.8,-0x1,0.2)[_0x31d96e(0x10a)]()['multiplyScalar'](0x5+0x5*Math[_0x31d96e(0x14e)]());shootingStars[_0x31d96e(0x16e)]({'line':o,'positions':t,'pos':a,'velocity':i}),scene[_0x31d96e(0xf1)](o);}const shootingStarsFromStars=[],shootingStarCountFromStars=0x1e;for(let e=0x0;e<0x1e;e++){const e=new THREE[(_0x31d96e(0x12d))](),t=new Float32Array(0x1e);e[_0x31d96e(0x108)](_0x31d96e(0x16d),new THREE['BufferAttribute'](t,0x3));const n=new THREE[(_0x31d96e(0x131))]({'color':0xffffff,'transparent':!0x0,'opacity':0.9}),o=new THREE[(_0x31d96e(0x11f))](e,n),a=Math[_0x31d96e(0x161)](Math[_0x31d96e(0x14e)]()*starPositions[_0x31d96e(0x155)]),i=starPositions[a][_0x31d96e(0xfb)](),r=i[_0x31d96e(0xfb)]()[_0x31d96e(0x10a)]()[_0x31d96e(0xfb)]()['add'](new THREE[(_0x31d96e(0x11d))](THREE[_0x31d96e(0x138)][_0x31d96e(0xf0)](0.5),THREE[_0x31d96e(0x138)][_0x31d96e(0xf0)](0.5),THREE[_0x31d96e(0x138)][_0x31d96e(0xf0)](0.5)))[_0x31d96e(0x10a)]()[_0x31d96e(0x119)](0x5+0x5*Math[_0x31d96e(0x14e)]());shootingStarsFromStars[_0x31d96e(0x16e)]({'line':o,'positions':t,'pos':i,'velocity':r}),scene[_0x31d96e(0xf1)](o);}images=[];const textureLoader=new THREE['TextureLoader'](),group=new THREE[(_0x31d96e(0xe2))]();function randomPosOnSphere(_0x3badb7){const _0x2e95cd=_0x31d96e,_0x2891a2=Math['acos'](THREE['MathUtils'][_0x2e95cd(0xf0)](0x2)),_0x11f2ba=THREE[_0x2e95cd(0x138)][_0x2e95cd(0xf0)](0x2*Math['PI']);return new THREE['Vector3'](_0x3badb7*Math['sin'](_0x2891a2)*Math[_0x2e95cd(0xd1)](_0x11f2ba),_0x3badb7*Math[_0x2e95cd(0x104)](_0x2891a2)*Math['sin'](_0x11f2ba),_0x3badb7*Math[_0x2e95cd(0xd1)](_0x2891a2));}function createTextSprite(_0x468196){const _0x1129f6=_0x31d96e,_0x25070e=document[_0x1129f6(0x14f)](_0x1129f6(0x170));_0x25070e[_0x1129f6(0x118)]=0x200,_0x25070e[_0x1129f6(0x139)]=0x80;const _0x3c4ca4=_0x25070e[_0x1129f6(0x13f)]('2d'),_0x5aed81=['#ff8690',_0x1129f6(0x16c),'#63c7c7'],_0x33670a=[_0x1129f6(0x12b),_0x1129f6(0x12b),'#cfd8dc'];let _0x159037=0x0;const _0x49db56=new THREE['CanvasTexture'](_0x25070e);_0x49db56[_0x1129f6(0x10b)]=THREE['LinearFilter'];const _0x5b310a=new THREE['SpriteMaterial']({'map':_0x49db56,'transparent':!0x0,'emissive':new THREE[(_0x1129f6(0xe0))](0xbfe6ff),'emissiveIntensity':1.5}),_0x1c2fc8=new THREE[(_0x1129f6(0x11a))](_0x5b310a);function _0x43d160(){const _0x5bbda1=_0x1129f6;_0x3c4ca4[_0x5bbda1(0x123)](0x0,0x0,_0x25070e[_0x5bbda1(0x118)],_0x25070e['height']),_0x3c4ca4['font']=_0x5bbda1(0x11b),_0x3c4ca4['textAlign']=_0x5bbda1(0xfe),_0x3c4ca4[_0x5bbda1(0x16f)]=_0x5bbda1(0xf3),_0x3c4ca4[_0x5bbda1(0x103)]=_0x5aed81[_0x159037],_0x3c4ca4[_0x5bbda1(0x143)]=0x2,_0x3c4ca4[_0x5bbda1(0xd9)]=_0x33670a[_0x159037],_0x3c4ca4[_0x5bbda1(0x16a)](_0x468196,0x100,0x40),_0x3c4ca4['fillText'](_0x468196,0x100,0x40),_0x49db56[_0x5bbda1(0x10d)]=!0x0;}return _0x1c2fc8[_0x1129f6(0xf9)][_0x1129f6(0x176)](0x96,0x28,0x1),_0x43d160(),setInterval(()=>{const _0x43909d=_0x1129f6;_0x159037=(_0x159037+0x1)%_0x5aed81[_0x43909d(0x155)],_0x43d160();},0x2710),document['fonts']['load']('48px\x20MyFont')['then'](()=>{_0x43d160();}),_0x1c2fc8;}scene['add'](group);const planes=[],labels=[],imagePositions=[],textPositions=[],boxCount=0x32,radiusImage=0x190,radiusText=0x258;function initScene(){const _0x41d694=_0x31d96e;if(group[_0x41d694(0x112)](),planes[_0x41d694(0x155)]=0x0,labels[_0x41d694(0x155)]=0x0,imagePositions[_0x41d694(0x155)]=0x0,textPositions[_0x41d694(0x155)]=0x0,0x0!==images[_0x41d694(0x155)]&&0x0!==textLines[_0x41d694(0x155)]){for(let _0xbb73cf=0x0;_0xbb73cf<boxCount;_0xbb73cf++){const _0x444d47=0x14+0xa*Math[_0x41d694(0x14e)](),_0x5f5528=new THREE[(_0x41d694(0xdb))](_0x444d47,_0x444d47),_0x47a197=textureLoader[_0x41d694(0x164)](images[_0xbb73cf%images[_0x41d694(0x155)]],_0x30a1d2=>{const _0xf4bbd1=_0x41d694;_0x30a1d2[_0xf4bbd1(0x10b)]=THREE['LinearMipMapLinearFilter'],_0x30a1d2['magFilter']=THREE['LinearFilter'],_0x30a1d2[_0xf4bbd1(0x14a)]=renderer[_0xf4bbd1(0x14c)][_0xf4bbd1(0x10c)]();}),_0x244686=new THREE[(_0x41d694(0x158))]({'map':_0x47a197,'transparent':!0x0}),_0x3a0737=new THREE[(_0x41d694(0x16b))](_0x5f5528,_0x244686),_0x151e9b=randomPosOnSphere(radiusImage);imagePositions[_0x41d694(0x16e)](_0x151e9b),_0x3a0737[_0x41d694(0x16d)]['set'](0x0,0x0,0x0),_0x3a0737[_0x41d694(0xf9)][_0x41d694(0x176)](0.05,0.05,0.05),_0x3a0737[_0x41d694(0x151)]={'progress':0x0,'speed':0.0005+0.001*Math[_0x41d694(0x14e)](),'delayOffset':0.02*_0xbb73cf},group['add'](_0x3a0737),planes['push'](_0x3a0737);}for(let _0x1e5004=0x0;_0x1e5004<0x2*boxCount;_0x1e5004++){const _0x5160c1=createTextSprite(textLines[_0x1e5004%textLines['length']]),_0x21f5ad=randomPosOnSphere(radiusText);textPositions[_0x41d694(0x16e)](_0x21f5ad),_0x5160c1[_0x41d694(0x16d)][_0x41d694(0x176)](0x0,0x0,0x0),_0x5160c1[_0x41d694(0xf9)]['set'](1.5,0.4,0x1),_0x5160c1[_0x41d694(0x151)]={'progress':0x0,'speed':0.0005+0.001*Math[_0x41d694(0x14e)](),'delayOffset':0.02*_0x1e5004},scene['add'](_0x5160c1),labels[_0x41d694(0x16e)](_0x5160c1);}}}function updateLabelText(_0x113166,_0x5f15e2){const _0x1edd64=_0x31d96e;if(_0x113166<0x0||_0x113166>=labels[_0x1edd64(0x155)])return;const _0x14ea4c=labels[_0x113166];if(_0x14ea4c&&(scene[_0x1edd64(0x114)](_0x14ea4c),_0x14ea4c[_0x1edd64(0x15c)][_0x1edd64(0xe5)]['dispose'](),_0x14ea4c['material']['dispose']()),''===_0x5f15e2['trim']())return void(labels[_0x113166]=null);const _0x40c1e9=createTextSprite(_0x5f15e2);_0x40c1e9[_0x1edd64(0x16d)][_0x1edd64(0x149)](textPositions[_0x113166]),scene[_0x1edd64(0xf1)](_0x40c1e9),labels[_0x113166]=_0x40c1e9;}initScene();let targetRotX=0x0,targetRotY=0x0,currentRotX=0x0,currentRotY=0x0;const maxRotX=Math['PI']/0xb4*0x5a,maxRotY=0x2*Math['PI'];function updateTargetRotation(_0x2c49f2,_0x20babb){const _0x23679a=_0x31d96e,_0x331f6d=_0x2c49f2/window[_0x23679a(0x163)]*0x2-0x1,_0x30ba4d=_0x20babb/window[_0x23679a(0x126)]*0x2-0x1;targetRotY=_0x331f6d*maxRotY,targetRotX=_0x30ba4d*maxRotX;}function updateShareLink(_0x3b655d,_0x419cc7,_0x4bbc6a){const _0x50245e=_0x31d96e,_0x23ab4a={'textLines':_0x3b655d,'imageLinks':_0x419cc7,'music':_0x4bbc6a},_0x19578c=JSON['stringify'](_0x23ab4a),_0x2a5cfd=encodeData(_0x19578c),_0x4ef8cf=new URL(location[_0x50245e(0xde)]+'/Guiloiyeuthuong/index.html');_0x4ef8cf[_0x50245e(0x113)]=_0x50245e(0x11e)+_0x2a5cfd,shareLinkEl[_0x50245e(0x15b)]=_0x4ef8cf[_0x50245e(0x135)](),shareLinkEl[_0x50245e(0x14b)]=_0x4ef8cf[_0x50245e(0x135)](),shareLinkEl[_0x50245e(0xf4)]=_0x50245e(0x160),shareLinkEl[_0x50245e(0x167)]['display']=_0x50245e(0x121);}function loadFromURL(){const _0x15342d=_0x31d96e,_0x24e9d2=getDataFromURL();if(!_0x24e9d2)return!0x1;_0x24e9d2[_0x15342d(0xda)]&&(textLines=_0x24e9d2[_0x15342d(0xda)],inputTextEl[_0x15342d(0xea)]=textLines[_0x15342d(0x172)]('\x0a')),_0x24e9d2[_0x15342d(0x145)]&&(images=_0x24e9d2[_0x15342d(0x145)],imageLinksEl['value']=images[_0x15342d(0x172)]('\x0a')),_0x24e9d2[_0x15342d(0x154)]?(console[_0x15342d(0x175)](_0x15342d(0x106),_0x24e9d2[_0x15342d(0x154)]),musicSelector['value']=_0x24e9d2[_0x15342d(0x154)],playMusic(_0x24e9d2[_0x15342d(0x154)])):console[_0x15342d(0x175)](_0x15342d(0xe7)),initScene();for(let _0x545fd9=0x0;_0x545fd9<0x2*planes[_0x15342d(0x155)];_0x545fd9++){let _0x55bc9b='';textLines['length']>0x0&&(_0x55bc9b=textLines[_0x545fd9%textLines[_0x15342d(0x155)]]),updateLabelText(_0x545fd9,_0x55bc9b);}return updateShareLink(textLines,images,_0x24e9d2[_0x15342d(0x154)]),!0x0;}function animate(){const _0x288c9b=_0x31d96e;requestAnimationFrame(animate),currentRotX+=0.005*(targetRotX-currentRotX),currentRotY+=0.005*(targetRotY-currentRotY),(camera['position']['x']=0x258*Math[_0x288c9b(0x104)](currentRotY)*Math[_0x288c9b(0xd1)](currentRotX),camera[_0x288c9b(0x16d)]['y']=0x258*Math[_0x288c9b(0x104)](currentRotX),camera[_0x288c9b(0x16d)]['z']=0x258*Math[_0x288c9b(0xd1)](currentRotY)*Math[_0x288c9b(0xd1)](currentRotX),camera[_0x288c9b(0x12c)](0x0,0x0,0x0));const _0x5df1f0=0x3e8;planes[_0x288c9b(0xe9)](_0x481a8c=>{const _0x5ca6a2=_0x288c9b;_0x481a8c[_0x5ca6a2(0x12c)](camera['position']);}),planes[_0x288c9b(0xe9)]((_0x2fc56a,_0x4b1c4f)=>{const _0xe08cf9=_0x288c9b;let _0x3c80cf=_0x2fc56a['userData'][_0xe08cf9(0x107)]-_0x2fc56a[_0xe08cf9(0x151)]['delayOffset'];_0x3c80cf<0x0?_0x3c80cf=0x0:_0x3c80cf>0x1&&(_0x3c80cf=0x1);const _0x929ef1=imagePositions[_0x4b1c4f]['clone']();_0x929ef1['y']-=0x190;const _0x1659b4=new THREE[(_0xe08cf9(0x11d))](_0x929ef1['x'],_0x5df1f0,_0x929ef1['z']);_0x2fc56a[_0xe08cf9(0x16d)][_0xe08cf9(0x157)](_0x1659b4,_0x929ef1,_0x3c80cf);let _0x25ea91=0.05+1.95*_0x3c80cf;_0x2fc56a['scale'][_0xe08cf9(0x176)](_0x25ea91,_0x25ea91,_0x25ea91),_0x2fc56a['up'][_0xe08cf9(0x176)](0x0,0x1,0x0),_0x2fc56a[_0xe08cf9(0x12c)](camera[_0xe08cf9(0x16d)]),_0x2fc56a['userData'][_0xe08cf9(0x107)]+=_0x2fc56a['userData']['speed'],_0x2fc56a[_0xe08cf9(0x151)][_0xe08cf9(0x107)]>0x1+_0x2fc56a[_0xe08cf9(0x151)]['delayOffset']&&(_0x2fc56a['userData'][_0xe08cf9(0x107)]=0x0);const _0x495fa6=labels[0x2*_0x4b1c4f];if(_0x495fa6){_0x495fa6['visible']=_0x3c80cf>0.05;const _0x41c445=textPositions[0x2*_0x4b1c4f][_0xe08cf9(0xfb)]();_0x41c445['y']-=0x190;const _0x3ab346=new THREE[(_0xe08cf9(0x11d))](_0x41c445['x'],_0x5df1f0,_0x41c445['z']);_0x495fa6['position'][_0xe08cf9(0x157)](_0x3ab346,_0x41c445,_0x3c80cf);}const _0x3cee88=labels[0x2*_0x4b1c4f+0x1];if(_0x3cee88){_0x3cee88[_0xe08cf9(0x173)]=_0x3c80cf>0.05;const _0x1036a4=textPositions[0x2*_0x4b1c4f+0x1][_0xe08cf9(0xfb)]();_0x1036a4['y']-=0x190;const _0x55142c=new THREE[(_0xe08cf9(0x11d))](_0x1036a4['x'],_0x5df1f0,_0x1036a4['z']);_0x3cee88[_0xe08cf9(0x16d)][_0xe08cf9(0x157)](_0x55142c,_0x1036a4,_0x3c80cf);}}),shootingStars[_0x288c9b(0xe9)](_0x1da276=>{const _0x41832a=_0x288c9b;_0x1da276['pos']['add'](_0x1da276[_0x41832a(0xfc)]);for(let _0x497b0b=0x0;_0x497b0b<0xa;_0x497b0b++){const _0x577979=0x3*_0x497b0b;_0x1da276[_0x41832a(0x162)][_0x577979]=_0x1da276[_0x41832a(0x169)]['x']-_0x1da276[_0x41832a(0xfc)]['x']*_0x497b0b*0.8,_0x1da276[_0x41832a(0x162)][_0x577979+0x1]=_0x1da276[_0x41832a(0x169)]['y']-_0x1da276['velocity']['y']*_0x497b0b*0.8,_0x1da276[_0x41832a(0x162)][_0x577979+0x2]=_0x1da276[_0x41832a(0x169)]['z']-_0x1da276[_0x41832a(0xfc)]['z']*_0x497b0b*0.8;}_0x1da276[_0x41832a(0x159)][_0x41832a(0xf2)][_0x41832a(0x13e)][_0x41832a(0x16d)]['needsUpdate']=!0x0,_0x1da276[_0x41832a(0x169)]['y']<-0x1f4&&_0x1da276[_0x41832a(0x169)]['set'](THREE[_0x41832a(0x138)][_0x41832a(0xf0)](0x3e8),THREE[_0x41832a(0x138)][_0x41832a(0x141)](0x190,0x2bc),THREE[_0x41832a(0x138)][_0x41832a(0xf0)](0x3e8));}),shootingStarsFromStars['forEach'](_0x5e9514=>{const _0x200918=_0x288c9b;_0x5e9514[_0x200918(0x169)][_0x200918(0xf1)](_0x5e9514[_0x200918(0xfc)]);for(let _0x2abf8d=0x0;_0x2abf8d<0xa;_0x2abf8d++){const _0x5c931f=0x3*_0x2abf8d;_0x5e9514[_0x200918(0x162)][_0x5c931f]=_0x5e9514[_0x200918(0x169)]['x']-_0x5e9514['velocity']['x']*_0x2abf8d*0.5,_0x5e9514[_0x200918(0x162)][_0x5c931f+0x1]=_0x5e9514[_0x200918(0x169)]['y']-_0x5e9514[_0x200918(0xfc)]['y']*_0x2abf8d*0.5,_0x5e9514['positions'][_0x5c931f+0x2]=_0x5e9514[_0x200918(0x169)]['z']-_0x5e9514[_0x200918(0xfc)]['z']*_0x2abf8d*0.5;}if(_0x5e9514[_0x200918(0x159)][_0x200918(0xf2)][_0x200918(0x13e)][_0x200918(0x16d)][_0x200918(0x10d)]=!0x0,_0x5e9514[_0x200918(0x169)][_0x200918(0x155)]()>0x514){const _0x1e68a2=Math[_0x200918(0x161)](Math[_0x200918(0x14e)]()*starPositions[_0x200918(0x155)]);_0x5e9514[_0x200918(0x169)]['copy'](starPositions[_0x1e68a2]);const _0xe8e799=_0x5e9514[_0x200918(0x169)]['clone']()['normalize']();_0x5e9514[_0x200918(0xfc)][_0x200918(0x149)](_0xe8e799[_0x200918(0xf1)](new THREE[(_0x200918(0x11d))](THREE[_0x200918(0x138)][_0x200918(0xf0)](0.5),THREE['MathUtils'][_0x200918(0xf0)](0.5),THREE[_0x200918(0x138)][_0x200918(0xf0)](0.5)))['normalize']()['multiplyScalar'](0x5+0x5*Math[_0x200918(0x14e)]()));}}),renderer['render'](scene,camera);}window[_0x31d96e(0x15e)](_0x31d96e(0xef),_0x24eb24=>{const _0x3b1128=_0x31d96e;updateTargetRotation(_0x24eb24[_0x3b1128(0x13a)],_0x24eb24[_0x3b1128(0xee)]);}),window[_0x31d96e(0x15e)]('touchmove',_0x23f6de=>{const _0x13ebf7=_0x31d96e;if(_0x23f6de[_0x13ebf7(0x171)][_0x13ebf7(0x155)]>0x0){const _0x2d480e=_0x23f6de[_0x13ebf7(0x171)][0x0];updateTargetRotation(_0x2d480e['clientX'],_0x2d480e[_0x13ebf7(0xee)]);}},{'passive':!0x0}),startBtn['addEventListener'](_0x31d96e(0xd3),()=>{const _0x4c8003=_0x31d96e,_0x5e8c17=inputTextEl[_0x4c8003(0xea)]['trim'](),_0x542c40=imageLinksEl[_0x4c8003(0xea)]['trim'](),_0x368ee1=musicSelector[_0x4c8003(0xea)];if(''===_0x5e8c17)return alert(_0x4c8003(0xd6)),void _0x5e8c17[_0x4c8003(0x133)]();if(''===_0x542c40)return alert('Vui\x20lòng\x20nhập\x20ít\x20nhất\x20một\x20link\x20ảnh!'),void imageLinksEl['focus']();textLines=_0x5e8c17[_0x4c8003(0x155)]?_0x5e8c17[_0x4c8003(0x150)]('\x0a')['filter'](_0xd70ec6=>''!==_0xd70ec6[_0x4c8003(0x13b)]()):[],images=_0x542c40[_0x4c8003(0x155)]?_0x542c40[_0x4c8003(0x150)]('\x0a')[_0x4c8003(0x117)](_0xfe9e66=>''!==_0xfe9e66[_0x4c8003(0x13b)]()):[],initScene();for(let _0xf8587c=0x0;_0xf8587c<planes[_0x4c8003(0x155)];_0xf8587c++){let _0x5c5aa3='';textLines[_0x4c8003(0x155)]>0x0&&(_0x5c5aa3=textLines[_0xf8587c%textLines[_0x4c8003(0x155)]]),updateLabelText(_0xf8587c,_0x5c5aa3);}!audio&&musicSelector['value']&&playMusic(musicSelector[_0x4c8003(0xea)]);const _0x56fb9a={'textLines':textLines,'imageLinks':images,'music':_0x368ee1},_0x414fd7=JSON['stringify'](_0x56fb9a),_0x54bfbe=encodeData(_0x414fd7),_0x1f4b06=new URL(location['origin']+_0x4c8003(0xec));_0x1f4b06[_0x4c8003(0x113)]=_0x4c8003(0x11e)+_0x54bfbe,shareLinkEl['style'][_0x4c8003(0x156)]=_0x4c8003(0x144),document['getElementById'](_0x4c8003(0x10e))[_0x4c8003(0x167)][_0x4c8003(0x156)]='block',setTimeout(()=>{const _0x1d82e9=_0x4c8003;shareLinkEl[_0x1d82e9(0x15b)]=_0x1f4b06['toString'](),shareLinkEl[_0x1d82e9(0x14b)]=_0x1f4b06[_0x1d82e9(0x135)](),shareLinkEl['title']='Click\x20để\x20mở\x20link\x20trong\x20tab\x20mới',shareLinkEl['style'][_0x1d82e9(0x156)]=_0x1d82e9(0x121),document[_0x1d82e9(0xe6)]('donateQR')[_0x1d82e9(0x167)][_0x1d82e9(0x156)]=_0x1d82e9(0x144);},0xbb8);}),animate(),loadFromURL()?document[_0x31d96e(0xe6)]('ui')[_0x31d96e(0x167)]['display']='none':shareLinkEl['style'][_0x31d96e(0x156)]=_0x31d96e(0x144),window[_0x31d96e(0x15e)](_0x31d96e(0x174),()=>{const _0x31ffff=_0x31d96e;camera[_0x31ffff(0xe8)]=window['innerWidth']/window[_0x31ffff(0x126)],camera['updateProjectionMatrix'](),renderer[_0x31ffff(0x153)](window['innerWidth'],window[_0x31ffff(0x126)]);}),document[_0x31d96e(0xe6)]('startBtn')['addEventListener'](_0x31d96e(0xd3),()=>{const _0x5da1c1=_0x31d96e,_0x2683b3=_0x32e52b,_0x32e52b=window['location'][_0x5da1c1(0xde)]+window['location'][_0x5da1c1(0x109)]+'#data='+encodeURIComponent(_0x2683b3),_0x684e36=document[_0x5da1c1(0xe6)](_0x5da1c1(0x137));_0x684e36[_0x5da1c1(0x14b)]=_0x32e52b,_0x684e36[_0x5da1c1(0x15b)]=shortenLink(_0x32e52b,maxLength),_0x684e36[_0x5da1c1(0xf4)]=_0x32e52b,_0x684e36['style']['display']='inline';}),qrBtn[_0x31d96e(0x15e)](_0x31d96e(0xd3),async()=>{const _0x61b499=_0x31d96e;if(!shareLinkEl['href']||_0x61b499(0x144)===shareLinkEl[_0x61b499(0x167)][_0x61b499(0x156)])return void alert(_0x61b499(0xd2));const _0x53188b=shareLinkEl[_0x61b499(0x14b)];heartFrame[_0x61b499(0x167)][_0x61b499(0x156)]=_0x61b499(0xd8),await drawHeartAndQRCode(_0x53188b);});const width=canvas[_0x31d96e(0x118)],height=canvas[_0x31d96e(0x139)],heartPathStr=_0x31d96e(0x120),scale=0x8,heartWidth=0x20,heartHeight=29.6,heartCenterX=0x10,heartCenterY=0xe,centerX=width/0x2,centerY=height/0x2,qrSize=0x64;async function drawHeartAndQRCode(_0x213f22){const _0x51a6a1=_0x31d96e;ctx['clearRect'](0x0,0x0,width,height);const _0x1f1bb9=new Image();_0x1f1bb9['src']=_0x51a6a1(0x15d),await new Promise((_0x16b760,_0x15c8ed)=>{const _0xb0803=_0x51a6a1;_0x1f1bb9[_0xb0803(0x14d)]=_0x16b760,_0x1f1bb9[_0xb0803(0xf5)]=_0x15c8ed;});const _0x518475=centerX-0x80,_0x36926c=centerY-0x76;ctx[_0x51a6a1(0x132)](_0x1f1bb9,_0x518475,_0x36926c,0x100,0xec);try{const _0x592e04=document[_0x51a6a1(0x14f)](_0x51a6a1(0x170));_0x592e04['width']=qrSize,_0x592e04[_0x51a6a1(0x139)]=qrSize,await QRCode[_0x51a6a1(0x116)](_0x592e04,_0x213f22,{'width':qrSize,'margin':0x1,'color':{'dark':_0x51a6a1(0x15a),'light':_0x51a6a1(0x115)}});const _0x56c808=centerX-qrSize/0x2,_0x56e7d5=centerY-qrSize/0x2;ctx['drawImage'](_0x592e04,_0x56c808,_0x56e7d5,qrSize,qrSize);}catch(_0xdf6173){console[_0x51a6a1(0xe3)](_0x51a6a1(0x101),_0xdf6173);}}canvas[_0x31d96e(0x15e)](_0x31d96e(0xd3),()=>{const _0x4b0e2d=_0x31d96e;canvas['toBlob'](function(_0x43bebe){const _0x4a3e88=_0x11bf,_0x380f8f=document[_0x4a3e88(0x14f)]('a');_0x380f8f[_0x4a3e88(0xe1)]=_0x4a3e88(0xdc);const _0x51b96d=URL['createObjectURL'](_0x43bebe);_0x380f8f[_0x4a3e88(0x14b)]=_0x51b96d,document['body'][_0x4a3e88(0x130)](_0x380f8f),_0x380f8f[_0x4a3e88(0xd3)](),document[_0x4a3e88(0x147)][_0x4a3e88(0xfa)](_0x380f8f),URL['revokeObjectURL'](_0x51b96d);},_0x4b0e2d(0x11c));const _0x2142f3=canvas['toDataURL'](_0x4b0e2d(0x11c));document[_0x4b0e2d(0xe6)](_0x4b0e2d(0xfd))[_0x4b0e2d(0x134)]=_0x2142f3,document[_0x4b0e2d(0xe6)](_0x4b0e2d(0xfd))[_0x4b0e2d(0x167)][_0x4b0e2d(0x156)]=_0x4b0e2d(0xd8);});