const _0x257bc3=_0xefff;(function(_0x107d5a,_0x191ae9){const _0x3ddc61=_0xefff,_0x409159=_0x107d5a();while(!![]){try{const _0x38d8c9=-parseInt(_0x3ddc61(0x1dd))/0x1+parseInt(_0x3ddc61(0x209))/0x2*(parseInt(_0x3ddc61(0x22c))/0x3)+parseInt(_0x3ddc61(0x20e))/0x4+parseInt(_0x3ddc61(0x1b9))/0x5+parseInt(_0x3ddc61(0x24a))/0x6*(parseInt(_0x3ddc61(0x1ef))/0x7)+-parseInt(_0x3ddc61(0x251))/0x8*(-parseInt(_0x3ddc61(0x21a))/0x9)+-parseInt(_0x3ddc61(0x237))/0xa;if(_0x38d8c9===_0x191ae9)break;else _0x409159['push'](_0x409159['shift']());}catch(_0x1d91ee){_0x409159['push'](_0x409159['shift']());}}}(_0x1948,0xad57a),document[_0x257bc3(0x248)]('imageLinks')['placeholder']=_0x257bc3(0x23b));const encodeData=_0x18d926=>btoa(encodeURIComponent(_0x18d926)[_0x257bc3(0x1d9)](/%(\w{2})/g,(_0x33474c,_0x427e3d)=>String[_0x257bc3(0x1b6)]('0x'+_0x427e3d)))['replace'](/[+/=]/g,_0x31c20f=>({'+':'-','/':'_','=':''}[_0x31c20f]||'')),decodeData=_0x4b3e31=>{const _0x221955=_0x257bc3;for(_0x4b3e31=_0x4b3e31[_0x221955(0x1d9)](/[-_]/g,_0x4690e4=>({'-':'+','_':'/'}[_0x4690e4]));_0x4b3e31[_0x221955(0x1b5)]%0x4;)_0x4b3e31+='=';return decodeURIComponent(atob(_0x4b3e31)[_0x221955(0x1d2)]('')[_0x221955(0x216)](_0x4fb436=>'%'+_0x4fb436[_0x221955(0x217)](0x0)[_0x221955(0x215)](0x10)[_0x221955(0x202)](0x2,'0'))[_0x221955(0x220)](''));};function getDataFromURL(){const _0x32330a=_0x257bc3;if(location['hash'][_0x32330a(0x1c8)](_0x32330a(0x1c9))){const _0x2d7a02=location['hash'][_0x32330a(0x229)](0x4),_0x1806d3=decodeData(_0x2d7a02);if(_0x1806d3)try{return JSON[_0x32330a(0x22b)](_0x1806d3);}catch(_0x50277f){return console[_0x32330a(0x200)](_0x32330a(0x223),_0x50277f),null;}}return null;}const inputTextEl=document[_0x257bc3(0x248)]('inputText'),imageLinksEl=document[_0x257bc3(0x248)](_0x257bc3(0x1ed)),startBtn=document[_0x257bc3(0x248)](_0x257bc3(0x1b3)),shareLinkEl=document[_0x257bc3(0x248)](_0x257bc3(0x25d)),qrBtn=document[_0x257bc3(0x248)](_0x257bc3(0x25b)),heartFrame=document[_0x257bc3(0x1ee)](_0x257bc3(0x25e)),canvas=document[_0x257bc3(0x248)](_0x257bc3(0x20f)),ctx=canvas[_0x257bc3(0x221)]('2d'),musicSelector=document[_0x257bc3(0x248)]('musicSelector');let audio=null;function waitUserToStartMusic(_0x3e2136){const _0x2810e3=_0x257bc3,_0xcf6267=()=>{const _0xfd0878=_0xefff;playMusic(_0x3e2136),document[_0xfd0878(0x1b7)](_0xfd0878(0x203),_0xcf6267),document[_0xfd0878(0x1b7)](_0xfd0878(0x21f),_0xcf6267);};document['addEventListener'](_0x2810e3(0x203),_0xcf6267),document[_0x2810e3(0x259)](_0x2810e3(0x21f),_0xcf6267);}function playMusic(_0x4c5eeb){const _0x2e89a1=_0x257bc3;audio&&(audio[_0x2e89a1(0x247)](),audio=null),_0x4c5eeb&&(audio=new Audio(_0x4c5eeb),audio[_0x2e89a1(0x241)]=!0x0,audio[_0x2e89a1(0x1e5)]=0.5,audio[_0x2e89a1(0x205)]()[_0x2e89a1(0x1f7)](_0x572b62=>{const _0x41ec2a=_0x2e89a1;console['warn'](_0x41ec2a(0x1f3),_0x572b62);}));}function updateURLParam(_0x3ab643,_0x51c03c){const _0x1d7545=_0x257bc3,_0xbc6e52=new URL(window[_0x1d7545(0x232)]);_0x51c03c?_0xbc6e52['searchParams'][_0x1d7545(0x260)](_0x3ab643,_0x51c03c):_0xbc6e52[_0x1d7545(0x1e9)][_0x1d7545(0x211)](_0x3ab643),window['history'][_0x1d7545(0x20d)]({},'',_0xbc6e52);}musicSelector['addEventListener'](_0x257bc3(0x262),()=>{const _0x504897=_0x257bc3,_0x959017=musicSelector[_0x504897(0x1da)];updateURLParam(_0x504897(0x23f),_0x959017),playMusic(_0x959017);}),window[_0x257bc3(0x259)]('load',()=>{const _0x2fbf17=_0x257bc3,_0x36616b=getDataFromURL();_0x36616b&&_0x36616b['music']&&(musicSelector[_0x2fbf17(0x1da)]=_0x36616b[_0x2fbf17(0x23f)],waitUserToStartMusic(_0x36616b[_0x2fbf17(0x23f)]));});let images=[],textLines=[];const scene=new THREE[(_0x257bc3(0x218))](),camera=new THREE[(_0x257bc3(0x22e))](0x4b,window[_0x257bc3(0x1f0)]/window[_0x257bc3(0x25f)],0.1,0xbb8);camera['position']['z']=0x190;const renderer=new THREE[(_0x257bc3(0x1fd))]({'antialias':!0x0,'alpha':!0x0});renderer[_0x257bc3(0x1d6)](window[_0x257bc3(0x1e4)]),renderer[_0x257bc3(0x258)](window['innerWidth'],window['innerHeight']),document[_0x257bc3(0x206)]['appendChild'](renderer[_0x257bc3(0x207)]);const starGeo=new THREE[(_0x257bc3(0x1d5))](),starCount=0x320,starPos=[];for(let e=0x0;e<0x320;e++){const e=THREE[_0x257bc3(0x254)][_0x257bc3(0x252)](0x384,0x4b0),t=Math[_0x257bc3(0x23d)](THREE[_0x257bc3(0x254)][_0x257bc3(0x1ca)](0x2)),n=THREE[_0x257bc3(0x254)][_0x257bc3(0x1ca)](0x2*Math['PI']);starPos[_0x257bc3(0x1f1)](e*Math[_0x257bc3(0x222)](t)*Math[_0x257bc3(0x1e1)](n),e*Math[_0x257bc3(0x222)](t)*Math[_0x257bc3(0x222)](n),e*Math['cos'](t));}starGeo[_0x257bc3(0x1bf)](_0x257bc3(0x1dc),new THREE['Float32BufferAttribute'](starPos,0x3));const starsMat=new THREE[(_0x257bc3(0x1ce))]({'color':0xffffff,'size':0x5,'transparent':!0x0,'opacity':0.9});scene[_0x257bc3(0x238)](new THREE['Points'](starGeo,starsMat));function _0xefff(_0x8e0255,_0x296ce4){const _0x194843=_0x1948();return _0xefff=function(_0xefff12,_0x18453c){_0xefff12=_0xefff12-0x1b0;let _0x2b22fd=_0x194843[_0xefff12];return _0x2b22fd;},_0xefff(_0x8e0255,_0x296ce4);}const starPositions=[];for(let e=0x0;e<0x320;e++)starPositions[_0x257bc3(0x1f1)](new THREE[(_0x257bc3(0x1e7))](starPos[0x3*e],starPos[0x3*e+0x1],starPos[0x3*e+0x2]));const shootingStars=[],shootingStarCount=0x5;for(let e=0x0;e<0x5;e++){const e=new THREE[(_0x257bc3(0x1d5))](),t=new Float32Array(0x1e);e[_0x257bc3(0x1bf)]('position',new THREE[(_0x257bc3(0x24d))](t,0x3));const n=new THREE[(_0x257bc3(0x22f))]({'color':0xffffff,'transparent':!0x0,'opacity':0.9}),a=new THREE[(_0x257bc3(0x1c1))](e,n),o=new THREE['Vector3'](THREE[_0x257bc3(0x254)]['randFloatSpread'](0x3e8),THREE[_0x257bc3(0x254)]['randFloat'](0x190,0x2bc),THREE['MathUtils'][_0x257bc3(0x1ca)](0x3e8)),i=new THREE['Vector3'](0.8,-0x1,0.2)[_0x257bc3(0x240)]()['multiplyScalar'](0x5+0x5*Math['random']());shootingStars['push']({'line':a,'positions':t,'pos':o,'velocity':i}),scene[_0x257bc3(0x238)](a);}const shootingStarsFromStars=[],shootingStarCountFromStars=0x1e;for(let e=0x0;e<0x1e;e++){const e=new THREE[(_0x257bc3(0x1d5))](),t=new Float32Array(0x1e);e[_0x257bc3(0x1bf)](_0x257bc3(0x1dc),new THREE['BufferAttribute'](t,0x3));const n=new THREE[(_0x257bc3(0x22f))]({'color':0xffffff,'transparent':!0x0,'opacity':0.9}),a=new THREE[(_0x257bc3(0x1c1))](e,n),o=Math[_0x257bc3(0x236)](Math[_0x257bc3(0x1b1)]()*starPositions[_0x257bc3(0x1b5)]),i=starPositions[o][_0x257bc3(0x23e)](),s=i[_0x257bc3(0x23e)]()[_0x257bc3(0x240)]()[_0x257bc3(0x23e)]()[_0x257bc3(0x238)](new THREE[(_0x257bc3(0x1e7))](THREE['MathUtils']['randFloatSpread'](0.5),THREE[_0x257bc3(0x254)]['randFloatSpread'](0.5),THREE[_0x257bc3(0x254)][_0x257bc3(0x1ca)](0.5)))['normalize']()[_0x257bc3(0x1f8)](0x5+0x5*Math[_0x257bc3(0x1b1)]());shootingStarsFromStars[_0x257bc3(0x1f1)]({'line':a,'positions':t,'pos':i,'velocity':s}),scene['add'](a);}images=[];const textureLoader=new THREE['TextureLoader'](),group=new THREE[(_0x257bc3(0x253))]();function randomPosOnSphere(_0x6d835f){const _0x3ad9df=_0x257bc3,_0x435831=Math[_0x3ad9df(0x23d)](THREE['MathUtils'][_0x3ad9df(0x1ca)](0x2)),_0x3fc81a=THREE[_0x3ad9df(0x254)][_0x3ad9df(0x1ca)](0x2*Math['PI']);return new THREE['Vector3'](_0x6d835f*Math['sin'](_0x435831)*Math[_0x3ad9df(0x1e1)](_0x3fc81a),_0x6d835f*Math['sin'](_0x435831)*Math[_0x3ad9df(0x222)](_0x3fc81a),_0x6d835f*Math[_0x3ad9df(0x1e1)](_0x435831));}function createTextSprite(_0xceb2e4){const _0x13fb43=_0x257bc3,_0x249b14=document[_0x13fb43(0x1f2)]('canvas');_0x249b14[_0x13fb43(0x204)]=0x200,_0x249b14[_0x13fb43(0x226)]=0x80;const _0x21c820=_0x249b14[_0x13fb43(0x221)]('2d'),_0x3bdf9=[_0x13fb43(0x210),_0x13fb43(0x1d4),_0x13fb43(0x1ff)],_0xad7a89=[_0x13fb43(0x25c),_0x13fb43(0x25c),'#cfd8dc'];let _0x1d1451=0x0;const _0x27e557=new THREE['CanvasTexture'](_0x249b14);_0x27e557[_0x13fb43(0x1d0)]=THREE[_0x13fb43(0x1d8)];const _0x4675b0=new THREE[(_0x13fb43(0x24e))]({'map':_0x27e557,'transparent':!0x0,'emissive':new THREE[(_0x13fb43(0x1c3))](0xbfe6ff),'emissiveIntensity':1.5}),_0x59913c=new THREE[(_0x13fb43(0x23a))](_0x4675b0);function _0x4ae910(){const _0x5c19bf=_0x13fb43;_0x21c820[_0x5c19bf(0x1c0)](0x0,0x0,_0x249b14[_0x5c19bf(0x204)],_0x249b14[_0x5c19bf(0x226)]),_0x21c820['font']=_0x5c19bf(0x1f6),_0x21c820[_0x5c19bf(0x1b2)]='center',_0x21c820['textBaseline']=_0x5c19bf(0x228),_0x21c820['fillStyle']=_0x3bdf9[_0x1d1451],_0x21c820['lineWidth']=0x2,_0x21c820['strokeStyle']=_0xad7a89[_0x1d1451],_0x21c820['strokeText'](_0xceb2e4,0x100,0x40),_0x21c820[_0x5c19bf(0x225)](_0xceb2e4,0x100,0x40),_0x27e557[_0x5c19bf(0x1c6)]=!0x0;}return _0x59913c[_0x13fb43(0x1ec)][_0x13fb43(0x260)](0x96,0x28,0x1),_0x4ae910(),setInterval(()=>{const _0x379513=_0x13fb43;_0x1d1451=(_0x1d1451+0x1)%_0x3bdf9[_0x379513(0x1b5)],_0x4ae910();},0x2710),document[_0x13fb43(0x1fb)][_0x13fb43(0x230)]('48px\x20MyFont')[_0x13fb43(0x1eb)](()=>{_0x4ae910();}),_0x59913c;}scene['add'](group);const planes=[],labels=[],imagePositions=[],textPositions=[],boxCount=0x32,radiusImage=0x190,radiusText=0x258;function initScene(){const _0x1eda69=_0x257bc3;if(group['clear'](),planes[_0x1eda69(0x1b5)]=0x0,labels[_0x1eda69(0x1b5)]=0x0,imagePositions[_0x1eda69(0x1b5)]=0x0,textPositions[_0x1eda69(0x1b5)]=0x0,0x0!==images[_0x1eda69(0x1b5)]&&0x0!==textLines['length']){for(let _0xa90957=0x0;_0xa90957<boxCount;_0xa90957++){const _0x12c5ee=0x14+0xa*Math[_0x1eda69(0x1b1)](),_0x889953=new THREE['PlaneGeometry'](_0x12c5ee,_0x12c5ee),_0x335fb5=textureLoader[_0x1eda69(0x230)](images[_0xa90957%images[_0x1eda69(0x1b5)]],_0x53da37=>{const _0x1a31d0=_0x1eda69;_0x53da37['minFilter']=THREE[_0x1a31d0(0x239)],_0x53da37['magFilter']=THREE[_0x1a31d0(0x1d8)],_0x53da37[_0x1a31d0(0x257)]=renderer['capabilities']['getMaxAnisotropy']();}),_0x5b7f1d=new THREE['MeshBasicMaterial']({'map':_0x335fb5,'transparent':!0x0}),_0xad9d4d=new THREE[(_0x1eda69(0x21e))](_0x889953,_0x5b7f1d),_0x548f1e=randomPosOnSphere(radiusImage);imagePositions[_0x1eda69(0x1f1)](_0x548f1e),_0xad9d4d[_0x1eda69(0x1dc)][_0x1eda69(0x260)](0x0,0x0,0x0),_0xad9d4d[_0x1eda69(0x1ec)][_0x1eda69(0x260)](0.05,0.05,0.05),_0xad9d4d[_0x1eda69(0x256)]={'progress':0x0,'speed':0.0005+0.001*Math[_0x1eda69(0x1b1)](),'delayOffset':0.02*_0xa90957},group[_0x1eda69(0x238)](_0xad9d4d),planes[_0x1eda69(0x1f1)](_0xad9d4d);}for(let _0x1b9059=0x0;_0x1b9059<0x2*boxCount;_0x1b9059++){const _0x3bde2c=createTextSprite(textLines[_0x1b9059%textLines[_0x1eda69(0x1b5)]]),_0x52561a=randomPosOnSphere(radiusText);textPositions['push'](_0x52561a),_0x3bde2c[_0x1eda69(0x1dc)][_0x1eda69(0x260)](0x0,0x0,0x0),_0x3bde2c[_0x1eda69(0x1ec)]['set'](1.5,0.4,0x1),_0x3bde2c['userData']={'progress':0x0,'speed':0.0005+0.001*Math[_0x1eda69(0x1b1)](),'delayOffset':0.02*_0x1b9059},scene[_0x1eda69(0x238)](_0x3bde2c),labels[_0x1eda69(0x1f1)](_0x3bde2c);}}}function updateLabelText(_0x4f233e,_0x4ddc40){const _0x21c02e=_0x257bc3;if(_0x4f233e<0x0||_0x4f233e>=labels['length'])return;const _0x5b6853=labels[_0x4f233e];if(_0x5b6853&&(scene[_0x21c02e(0x1c4)](_0x5b6853),_0x5b6853[_0x21c02e(0x1d7)][_0x21c02e(0x216)][_0x21c02e(0x244)](),_0x5b6853[_0x21c02e(0x1d7)]['dispose']()),''===_0x4ddc40[_0x21c02e(0x1cc)]())return void(labels[_0x4f233e]=null);const _0x5647f6=createTextSprite(_0x4ddc40);_0x5647f6[_0x21c02e(0x1dc)][_0x21c02e(0x1c7)](textPositions[_0x4f233e]),scene[_0x21c02e(0x238)](_0x5647f6),labels[_0x4f233e]=_0x5647f6;}initScene();let targetRotX=0x0,targetRotY=0x0,currentRotX=0x0,currentRotY=0x0;function _0x1948(){const _0x4ce162=['910323BbJakU','log','onerror','Nhạc\x20từ\x20URL:','cos','block','pathname','devicePixelRatio','volume','toCanvas','Vector3','./assets/heart1.png','searchParams','touches','then','scale','imageLinks','querySelector','89012TCkZDW','innerWidth','push','createElement','Không\x20thể\x20phát\x20nhạc\x20tự\x20động:','lerpVectors','heart_qrcode.png','bold\x2072px\x20MyFont','catch','multiplyScalar','clientX','origin','fonts','focus','WebGLRenderer','clientY','#63c7c7','error','toBlob','padStart','click','width','play','body','domElement','title','142SKfkrj','mousemove','textContent','render','replaceState','626540awavkY','finalCanvas','#ff8690','delete','line','/Textlove/index.html','href','toString','map','charCodeAt','Scene','onload','1737MxdCyi','hash','drawImage','display','Mesh','touchstart','join','getContext','sin','JSON\x20parse\x20error:','geometry','fillText','height','touchmove','middle','slice','appendChild','parse','46518epROTk','Chưa\x20có\x20link\x20để\x20tạo\x20QR!\x20Vui\x20lòng\x20tạo\x20link\x20trước.','PerspectiveCamera','LineBasicMaterial','load','stringify','location','src','textLines','id=','floor','16511290WuoioA','add','LinearMipMapLinearFilter','Sprite','Ví\x20dụ:\x20\x0ahttps://panbap/image1.png\x0ahttps://panbap/image2.png\x0aNhập\x201\x20chữ\x20bất\x20kỳ\x20để\x20bỏ\x20qua\x20ảnh','velocity','acos','clone','music','normalize','loop','visible','pos','dispose','downloadPreview','Không\x20có\x20music\x20trong\x20data','pause','getElementById','#ffffff','528WwsBUR','none','M23.6,0c-3.4,0-6.3,2.7-7.6,5.2C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4\x20c0,9.4,16,21.2,16,21.2s16-11.8,16-21.2C32,3.8,28.2,0,23.6,0z','BufferAttribute','SpriteMaterial','style','revokeObjectURL','10216fqvsGJ','randFloat','Group','MathUtils','Lỗi\x20tạo\x20QR\x20code:','userData','anisotropy','setSize','addEventListener','attributes','qrBtn','#cfd8dc','shareLink','.heart-frame','innerHeight','set','inline-block','change','inline','random','textAlign','startBtn','delayOffset','length','fromCharCode','removeEventListener','filter','3242160FYRaJM','progress','toDataURL','Click\x20để\x20mở\x20link\x20trong\x20tab\x20mới','donateQR','canvas','setAttribute','clearRect','Line','image/png','Color','remove','speed','needsUpdate','copy','startsWith','#id=','randFloatSpread','createObjectURL','trim','lookAt','PointsMaterial','positions','minFilter','aspect','split','download','#76b776','BufferGeometry','setPixelRatio','material','LinearFilter','replace','value','forEach','position'];_0x1948=function(){return _0x4ce162;};return _0x1948();}const maxRotX=Math['PI']/0xb4*0x5a,maxRotY=0x2*Math['PI'];function updateTargetRotation(_0x1e6a6c,_0x18317f){const _0x28c485=_0x257bc3,_0x49a149=_0x1e6a6c/window['innerWidth']*0x2-0x1,_0x51409d=_0x18317f/window[_0x28c485(0x25f)]*0x2-0x1;targetRotY=_0x49a149*maxRotY,targetRotX=_0x51409d*maxRotX;}function updateShareLink(_0x14c887,_0x477f0b,_0x1fc968){const _0x471ed1=_0x257bc3,_0x3a66cf={'textLines':_0x14c887,'imageLinks':_0x477f0b,'music':_0x1fc968},_0xa07fb2=JSON['stringify'](_0x3a66cf),_0x543853=encodeData(_0xa07fb2),_0x961456=new URL(location[_0x471ed1(0x1fa)]+_0x471ed1(0x213));_0x961456[_0x471ed1(0x21b)]='id='+_0x543853,shareLinkEl[_0x471ed1(0x20b)]=_0x961456[_0x471ed1(0x215)](),shareLinkEl[_0x471ed1(0x214)]=_0x961456[_0x471ed1(0x215)](),shareLinkEl[_0x471ed1(0x208)]=_0x471ed1(0x1bc),shareLinkEl[_0x471ed1(0x24f)]['display']=_0x471ed1(0x261);}function loadFromURL(){const _0x472335=_0x257bc3,_0xd56288=getDataFromURL();if(!_0xd56288)return!0x1;_0xd56288[_0x472335(0x234)]&&(textLines=_0xd56288[_0x472335(0x234)],inputTextEl['value']=textLines[_0x472335(0x220)]('\x0a')),_0xd56288[_0x472335(0x1ed)]&&(images=_0xd56288[_0x472335(0x1ed)],imageLinksEl[_0x472335(0x1da)]=images[_0x472335(0x220)]('\x0a')),_0xd56288['music']?(console[_0x472335(0x1de)](_0x472335(0x1e0),_0xd56288[_0x472335(0x23f)]),musicSelector[_0x472335(0x1da)]=_0xd56288[_0x472335(0x23f)],playMusic(_0xd56288[_0x472335(0x23f)])):console[_0x472335(0x1de)](_0x472335(0x246)),initScene();for(let _0x56ee66=0x0;_0x56ee66<0x2*planes[_0x472335(0x1b5)];_0x56ee66++){let _0x47687f='';textLines[_0x472335(0x1b5)]>0x0&&(_0x47687f=textLines[_0x56ee66%textLines[_0x472335(0x1b5)]]),updateLabelText(_0x56ee66,_0x47687f);}return updateShareLink(textLines,images,_0xd56288['music']),!0x0;}function animate(){const _0x1386c6=_0x257bc3;requestAnimationFrame(animate),currentRotX+=0.005*(targetRotX-currentRotX),currentRotY+=0.005*(targetRotY-currentRotY),(camera[_0x1386c6(0x1dc)]['x']=0x258*Math[_0x1386c6(0x222)](currentRotY)*Math[_0x1386c6(0x1e1)](currentRotX),camera[_0x1386c6(0x1dc)]['y']=0x258*Math['sin'](currentRotX),camera['position']['z']=0x258*Math[_0x1386c6(0x1e1)](currentRotY)*Math[_0x1386c6(0x1e1)](currentRotX),camera['lookAt'](0x0,0x0,0x0));const _0x32be02=0x3e8;planes[_0x1386c6(0x1db)](_0xfa86b1=>{const _0x4ae7c6=_0x1386c6;_0xfa86b1[_0x4ae7c6(0x1cd)](camera[_0x4ae7c6(0x1dc)]);}),planes['forEach']((_0x1b9c3b,_0x703580)=>{const _0x38c104=_0x1386c6;let _0x113a19=_0x1b9c3b[_0x38c104(0x256)][_0x38c104(0x1ba)]-_0x1b9c3b[_0x38c104(0x256)][_0x38c104(0x1b4)];_0x113a19<0x0?_0x113a19=0x0:_0x113a19>0x1&&(_0x113a19=0x1);const _0x593a76=imagePositions[_0x703580]['clone']();_0x593a76['y']-=0x190;const _0x3f9cab=new THREE[(_0x38c104(0x1e7))](_0x593a76['x'],_0x32be02,_0x593a76['z']);_0x1b9c3b['position'][_0x38c104(0x1f4)](_0x3f9cab,_0x593a76,_0x113a19);let _0x3ea478=0.05+1.95*_0x113a19;_0x1b9c3b[_0x38c104(0x1ec)][_0x38c104(0x260)](_0x3ea478,_0x3ea478,_0x3ea478),_0x1b9c3b['up']['set'](0x0,0x1,0x0),_0x1b9c3b[_0x38c104(0x1cd)](camera[_0x38c104(0x1dc)]),_0x1b9c3b['userData']['progress']+=_0x1b9c3b[_0x38c104(0x256)][_0x38c104(0x1c5)],_0x1b9c3b[_0x38c104(0x256)][_0x38c104(0x1ba)]>0x1+_0x1b9c3b[_0x38c104(0x256)][_0x38c104(0x1b4)]&&(_0x1b9c3b['userData'][_0x38c104(0x1ba)]=0x0);const _0x36dfe1=labels[0x2*_0x703580];if(_0x36dfe1){_0x36dfe1['visible']=_0x113a19>0.05;const _0x5efc3f=textPositions[0x2*_0x703580][_0x38c104(0x23e)]();_0x5efc3f['y']-=0x190;const _0xc11088=new THREE[(_0x38c104(0x1e7))](_0x5efc3f['x'],_0x32be02,_0x5efc3f['z']);_0x36dfe1[_0x38c104(0x1dc)]['lerpVectors'](_0xc11088,_0x5efc3f,_0x113a19);}const _0x5152ea=labels[0x2*_0x703580+0x1];if(_0x5152ea){_0x5152ea[_0x38c104(0x242)]=_0x113a19>0.05;const _0x1e699c=textPositions[0x2*_0x703580+0x1]['clone']();_0x1e699c['y']-=0x190;const _0x56c733=new THREE[(_0x38c104(0x1e7))](_0x1e699c['x'],_0x32be02,_0x1e699c['z']);_0x5152ea[_0x38c104(0x1dc)]['lerpVectors'](_0x56c733,_0x1e699c,_0x113a19);}}),shootingStars[_0x1386c6(0x1db)](_0x4b2a7f=>{const _0x603b2d=_0x1386c6;_0x4b2a7f[_0x603b2d(0x243)][_0x603b2d(0x238)](_0x4b2a7f[_0x603b2d(0x23c)]);for(let _0x23a78c=0x0;_0x23a78c<0xa;_0x23a78c++){const _0x4a9afb=0x3*_0x23a78c;_0x4b2a7f[_0x603b2d(0x1cf)][_0x4a9afb]=_0x4b2a7f[_0x603b2d(0x243)]['x']-_0x4b2a7f['velocity']['x']*_0x23a78c*0.8,_0x4b2a7f[_0x603b2d(0x1cf)][_0x4a9afb+0x1]=_0x4b2a7f[_0x603b2d(0x243)]['y']-_0x4b2a7f[_0x603b2d(0x23c)]['y']*_0x23a78c*0.8,_0x4b2a7f[_0x603b2d(0x1cf)][_0x4a9afb+0x2]=_0x4b2a7f[_0x603b2d(0x243)]['z']-_0x4b2a7f[_0x603b2d(0x23c)]['z']*_0x23a78c*0.8;}_0x4b2a7f[_0x603b2d(0x212)][_0x603b2d(0x224)][_0x603b2d(0x25a)][_0x603b2d(0x1dc)][_0x603b2d(0x1c6)]=!0x0,_0x4b2a7f[_0x603b2d(0x243)]['y']<-0x1f4&&_0x4b2a7f['pos']['set'](THREE[_0x603b2d(0x254)][_0x603b2d(0x1ca)](0x3e8),THREE[_0x603b2d(0x254)]['randFloat'](0x190,0x2bc),THREE[_0x603b2d(0x254)][_0x603b2d(0x1ca)](0x3e8));}),shootingStarsFromStars[_0x1386c6(0x1db)](_0x4ce5c3=>{const _0x5cebbf=_0x1386c6;_0x4ce5c3[_0x5cebbf(0x243)]['add'](_0x4ce5c3[_0x5cebbf(0x23c)]);for(let _0x5c59cb=0x0;_0x5c59cb<0xa;_0x5c59cb++){const _0x3c0228=0x3*_0x5c59cb;_0x4ce5c3[_0x5cebbf(0x1cf)][_0x3c0228]=_0x4ce5c3['pos']['x']-_0x4ce5c3[_0x5cebbf(0x23c)]['x']*_0x5c59cb*0.5,_0x4ce5c3[_0x5cebbf(0x1cf)][_0x3c0228+0x1]=_0x4ce5c3[_0x5cebbf(0x243)]['y']-_0x4ce5c3[_0x5cebbf(0x23c)]['y']*_0x5c59cb*0.5,_0x4ce5c3['positions'][_0x3c0228+0x2]=_0x4ce5c3[_0x5cebbf(0x243)]['z']-_0x4ce5c3[_0x5cebbf(0x23c)]['z']*_0x5c59cb*0.5;}if(_0x4ce5c3[_0x5cebbf(0x212)][_0x5cebbf(0x224)][_0x5cebbf(0x25a)][_0x5cebbf(0x1dc)][_0x5cebbf(0x1c6)]=!0x0,_0x4ce5c3['pos'][_0x5cebbf(0x1b5)]()>0x514){const _0x3e294a=Math[_0x5cebbf(0x236)](Math[_0x5cebbf(0x1b1)]()*starPositions['length']);_0x4ce5c3[_0x5cebbf(0x243)][_0x5cebbf(0x1c7)](starPositions[_0x3e294a]);const _0x349d78=_0x4ce5c3['pos'][_0x5cebbf(0x23e)]()[_0x5cebbf(0x240)]();_0x4ce5c3['velocity'][_0x5cebbf(0x1c7)](_0x349d78[_0x5cebbf(0x238)](new THREE[(_0x5cebbf(0x1e7))](THREE['MathUtils']['randFloatSpread'](0.5),THREE[_0x5cebbf(0x254)][_0x5cebbf(0x1ca)](0.5),THREE['MathUtils'][_0x5cebbf(0x1ca)](0.5)))[_0x5cebbf(0x240)]()[_0x5cebbf(0x1f8)](0x5+0x5*Math[_0x5cebbf(0x1b1)]()));}}),renderer[_0x1386c6(0x20c)](scene,camera);}window[_0x257bc3(0x259)](_0x257bc3(0x20a),_0x2e5715=>{const _0x52d772=_0x257bc3;updateTargetRotation(_0x2e5715['clientX'],_0x2e5715[_0x52d772(0x1fe)]);}),window[_0x257bc3(0x259)](_0x257bc3(0x227),_0x1d059a=>{const _0x57b574=_0x257bc3;if(_0x1d059a[_0x57b574(0x1ea)][_0x57b574(0x1b5)]>0x0){const _0x15c6ec=_0x1d059a[_0x57b574(0x1ea)][0x0];updateTargetRotation(_0x15c6ec[_0x57b574(0x1f9)],_0x15c6ec[_0x57b574(0x1fe)]);}},{'passive':!0x0}),startBtn[_0x257bc3(0x259)](_0x257bc3(0x203),()=>{const _0x40ccc3=_0x257bc3,_0xe48f32=inputTextEl[_0x40ccc3(0x1da)]['trim'](),_0x601d96=imageLinksEl[_0x40ccc3(0x1da)]['trim'](),_0x54f2cc=musicSelector[_0x40ccc3(0x1da)];if(''===_0xe48f32)return alert('Vui\x20lòng\x20nhập\x20ít\x20nhất\x20một\x20câu!'),void _0xe48f32[_0x40ccc3(0x1fc)]();if(''===_0x601d96)return alert('Vui\x20lòng\x20nhập\x20ít\x20nhất\x20một\x20link\x20ảnh!'),void imageLinksEl[_0x40ccc3(0x1fc)]();textLines=_0xe48f32[_0x40ccc3(0x1b5)]?_0xe48f32[_0x40ccc3(0x1d2)]('\x0a')['filter'](_0x58adee=>''!==_0x58adee[_0x40ccc3(0x1cc)]()):[],images=_0x601d96[_0x40ccc3(0x1b5)]?_0x601d96['split']('\x0a')[_0x40ccc3(0x1b8)](_0x118ac7=>''!==_0x118ac7[_0x40ccc3(0x1cc)]()):[],initScene();for(let _0x755a76=0x0;_0x755a76<planes['length'];_0x755a76++){let _0xd18ffd='';textLines[_0x40ccc3(0x1b5)]>0x0&&(_0xd18ffd=textLines[_0x755a76%textLines[_0x40ccc3(0x1b5)]]),updateLabelText(_0x755a76,_0xd18ffd);}!audio&&musicSelector[_0x40ccc3(0x1da)]&&playMusic(musicSelector[_0x40ccc3(0x1da)]);const _0xcc3aa1={'textLines':textLines,'imageLinks':images,'music':_0x54f2cc},_0xea219e=JSON[_0x40ccc3(0x231)](_0xcc3aa1),_0x2d7307=encodeData(_0xea219e),_0xc50d8a=new URL(location[_0x40ccc3(0x1fa)]+_0x40ccc3(0x213));_0xc50d8a[_0x40ccc3(0x21b)]=_0x40ccc3(0x235)+_0x2d7307,shareLinkEl[_0x40ccc3(0x24f)][_0x40ccc3(0x21d)]=_0x40ccc3(0x24b),document['getElementById']('donateQR')[_0x40ccc3(0x24f)][_0x40ccc3(0x21d)]=_0x40ccc3(0x1e2),setTimeout(()=>{const _0x115ece=_0x40ccc3;shareLinkEl[_0x115ece(0x20b)]=_0xc50d8a['toString'](),shareLinkEl[_0x115ece(0x214)]=_0xc50d8a['toString'](),shareLinkEl[_0x115ece(0x208)]=_0x115ece(0x1bc),shareLinkEl['style'][_0x115ece(0x21d)]=_0x115ece(0x261),document['getElementById'](_0x115ece(0x1bd))['style'][_0x115ece(0x21d)]=_0x115ece(0x24b);},0xbb8);}),animate(),loadFromURL()?document[_0x257bc3(0x248)]('ui')[_0x257bc3(0x24f)]['display']=_0x257bc3(0x24b):shareLinkEl[_0x257bc3(0x24f)][_0x257bc3(0x21d)]=_0x257bc3(0x24b),window['addEventListener']('resize',()=>{const _0x398d79=_0x257bc3;camera[_0x398d79(0x1d1)]=window[_0x398d79(0x1f0)]/window[_0x398d79(0x25f)],camera['updateProjectionMatrix'](),renderer[_0x398d79(0x258)](window[_0x398d79(0x1f0)],window['innerHeight']);}),document[_0x257bc3(0x248)](_0x257bc3(0x1b3))[_0x257bc3(0x259)]('click',()=>{const _0x398102=_0x257bc3,_0x20c306=_0x3a54f9,_0x3a54f9=window[_0x398102(0x232)][_0x398102(0x1fa)]+window['location'][_0x398102(0x1e3)]+_0x398102(0x1c9)+encodeURIComponent(_0x20c306),_0x1c1684=document['getElementById']('shareLink');_0x1c1684[_0x398102(0x214)]=_0x3a54f9,_0x1c1684['textContent']=shortenLink(_0x3a54f9,maxLength),_0x1c1684[_0x398102(0x208)]=_0x3a54f9,_0x1c1684[_0x398102(0x24f)]['display']=_0x398102(0x1b0);}),qrBtn[_0x257bc3(0x259)](_0x257bc3(0x203),async()=>{const _0x22baf7=_0x257bc3;if(!shareLinkEl[_0x22baf7(0x214)]||_0x22baf7(0x24b)===shareLinkEl[_0x22baf7(0x24f)][_0x22baf7(0x21d)])return void alert(_0x22baf7(0x22d));const _0x1f54a6=shareLinkEl[_0x22baf7(0x214)];heartFrame[_0x22baf7(0x24f)][_0x22baf7(0x21d)]=_0x22baf7(0x1e2),await drawHeartAndQRCode(_0x1f54a6);});const width=canvas['width'],height=canvas[_0x257bc3(0x226)],heartPathStr=_0x257bc3(0x24c),scale=0x8,heartWidth=0x20,heartHeight=29.6,heartCenterX=0x10,heartCenterY=0xe,centerX=width/0x2,centerY=height/0x2,qrSize=0x64;async function drawHeartAndQRCode(_0x529f0a){const _0x3ebb4c=_0x257bc3;ctx[_0x3ebb4c(0x1c0)](0x0,0x0,width,height);const _0x4fe54e=new Image();_0x4fe54e[_0x3ebb4c(0x233)]=_0x3ebb4c(0x1e8),await new Promise((_0x4fcc89,_0x2579f7)=>{const _0x2f6a4f=_0x3ebb4c;_0x4fe54e[_0x2f6a4f(0x219)]=_0x4fcc89,_0x4fe54e[_0x2f6a4f(0x1df)]=_0x2579f7;});const _0x4cb6d0=centerX-0x80,_0x5da287=centerY-0x76;ctx['drawImage'](_0x4fe54e,_0x4cb6d0,_0x5da287,0x100,0xec);try{const _0x272d67=document['createElement'](_0x3ebb4c(0x1be));_0x272d67[_0x3ebb4c(0x204)]=qrSize,_0x272d67[_0x3ebb4c(0x226)]=qrSize,await QRCode[_0x3ebb4c(0x1e6)](_0x272d67,_0x529f0a,{'width':qrSize,'margin':0x1,'color':{'dark':'#ff7094','light':_0x3ebb4c(0x249)}});const _0x3be9dc=centerX-qrSize/0x2,_0x1a88dd=centerY-qrSize/0x2;ctx[_0x3ebb4c(0x21c)](_0x272d67,_0x3be9dc,_0x1a88dd,qrSize,qrSize);}catch(_0x2776c3){console[_0x3ebb4c(0x200)](_0x3ebb4c(0x255),_0x2776c3);}}canvas[_0x257bc3(0x259)](_0x257bc3(0x203),()=>{const _0x19674d=_0x257bc3;canvas[_0x19674d(0x201)](function(_0xad5779){const _0x38770f=_0x19674d,_0x158082=document[_0x38770f(0x1f2)]('a');_0x158082[_0x38770f(0x1d3)]=_0x38770f(0x1f5);const _0x251319=URL[_0x38770f(0x1cb)](_0xad5779);_0x158082['href']=_0x251319,document[_0x38770f(0x206)][_0x38770f(0x22a)](_0x158082),_0x158082[_0x38770f(0x203)](),document['body']['removeChild'](_0x158082),URL[_0x38770f(0x250)](_0x251319);},_0x19674d(0x1c2));const _0x44c17d=canvas[_0x19674d(0x1bb)](_0x19674d(0x1c2));document[_0x19674d(0x248)](_0x19674d(0x245))[_0x19674d(0x233)]=_0x44c17d,document['getElementById'](_0x19674d(0x245))[_0x19674d(0x24f)]['display']=_0x19674d(0x1e2);});
