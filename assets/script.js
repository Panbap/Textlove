const _0x22f95a=_0x1fea;!function(t,e){const a=_0x1fea,n=_0x1e7e();for(;;)try{if(230585===parseInt(a(345))/1*(parseInt(a(250))/2)+parseInt(a(295))/3+-parseInt(a(328))/4*(-parseInt(a(283))/5)+parseInt(a(339))/6+parseInt(a(244))/7+-parseInt(a(220))/8+-parseInt(a(280))/9*(parseInt(a(358))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}();let images=[],textLines=[],objFiles=[];const scene=new THREE.Scene,ambientLight=new(THREE[_0x22f95a(319)])(16777215,.6);scene[_0x22f95a(284)](ambientLight);const dirLight=new(THREE[_0x22f95a(267)])(16777215,.8);dirLight[_0x22f95a(312)].set(100,200,300),scene.add(dirLight);const camera=new THREE.PerspectiveCamera(75,window[_0x22f95a(315)]/window[_0x22f95a(237)],.1,3e3);camera.position.z=400;const renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0});renderer.setPixelRatio(window[_0x22f95a(230)]),renderer[_0x22f95a(231)](window[_0x22f95a(315)],window.innerHeight),document[_0x22f95a(253)].appendChild(renderer.domElement);const apps=_0x22f95a(324),starGeo=new THREE.BufferGeometry,starCount=800,starPos=[];for(let t=0;t<800;t++){const t=THREE.MathUtils[_0x22f95a(359)](900,1200),e=Math.acos(THREE[_0x22f95a(222)].randFloatSpread(2)),a=THREE[_0x22f95a(222)][_0x22f95a(277)](2*Math.PI);starPos[_0x22f95a(347)](t*Math[_0x22f95a(274)](e)*Math.cos(a),t*Math.sin(e)*Math.sin(a),t*Math[_0x22f95a(261)](e))}function _0x1e7e(){const t=["line","setAttribute","Float32BufferAttribute","innerHeight","hostname","pos","initSceneWithData","No data provided to initScene","slice","map","2766407lEwCSx","join","pow","normalize","maxWidth","src","88926DJqgWs","center","Vector3","body","userData","Invalid data","clone","BufferGeometry","aspect","touchmove","max","cos","floor","children","appendChild","log","render","DirectionalLight","Play audio bị lỗi:","block","onerror","touches","font","resize","sin","PointsMaterial","none","randFloatSpread","split","clientX","90HRmlak","textBaseline","scale","1316045uhHKRS","add","100vh","height","catch","Mesh","sqrt","progress","strokeText","error","fillText","length","406815xSOFlK","lerpVectors","measureText","minFilter","#cfd8dc","warn","strokeStyle","textAlign","mousemove","material","random","positions","MeshPhongMaterial","fill","set","lookAt","speed","position","Hệ thống đang cập nhật","width","innerWidth","multiplyScalar","rotation","pause","AmbientLight","get","rgba(20, 20, 20, 0.97)","getContext","CanvasTexture","panbap.github.io","isMesh","removeEventListener","./assets/heart.obj","4XWkvtb","#ff8690","LineBasicMaterial","load","lineWidth","delayOffset","bold 100px 'Mali'","style","createElement","toString","middle","1871550NumsLT","music","images","trim","forEach","parse","5iPJdPm","geometry","push","#ffffff","./assets/heart1.png","100%","playMusic","addEventListener","loop","SpriteMaterial","volume","click","BufferAttribute","928310QMjFLj","randFloat","TextureLoader","Mãi yêu em","velocity","location","https://github.com/Panbap/anh/blob/main/error/textlovev1a1.png?raw=true","1354880rZkxcT","play","MathUtils","canvas","clientY","fixed","currentAudio","fillStyle","min","MeshBasicMaterial","devicePixelRatio","setSize","Line","display"];return(_0x1e7e=function(){return t})()}starGeo[_0x22f95a(235)](_0x22f95a(312),new(THREE[_0x22f95a(236)])(starPos,3));const starsMat=new(THREE[_0x22f95a(275)])({color:16777215,size:5,transparent:!0,opacity:.9});function _0x1fea(t,e){const a=_0x1e7e();return(_0x1fea=function(t,e){return a[t-=220]})(t,e)}scene[_0x22f95a(284)](new THREE.Points(starGeo,starsMat));const starPositions=[];for(let t=0;t<800;t++)starPositions[_0x22f95a(347)](new(THREE[_0x22f95a(252)])(starPos[3*t],starPos[3*t+1],starPos[3*t+2]));const shootingStars=[],shootingStarCount=5;for(let t=0;t<5;t++){const t=new(THREE[_0x22f95a(257)]),e=new Float32Array(30);t.setAttribute(_0x22f95a(312),new(THREE[_0x22f95a(357)])(e,3));const a=new(THREE[_0x22f95a(330)])({color:16777215,transparent:!0,opacity:.9}),n=new(THREE[_0x22f95a(232)])(t,a),o=new(THREE[_0x22f95a(252)])(THREE[_0x22f95a(222)][_0x22f95a(277)](1e3),THREE[_0x22f95a(222)][_0x22f95a(359)](400,700),THREE.MathUtils[_0x22f95a(277)](1e3)),s=new(THREE[_0x22f95a(252)])(.8,-1,.2).normalize().multiplyScalar(5+5*Math[_0x22f95a(305)]());shootingStars[_0x22f95a(347)]({line:n,positions:e,pos:o,velocity:s}),scene[_0x22f95a(284)](n)}const shootingStarsFromStars=[],shootingStarCountFromStars=30;for(let t=0;t<30;t++){const t=new THREE.BufferGeometry,e=new Float32Array(30);t[_0x22f95a(235)]("position",new(THREE[_0x22f95a(357)])(e,3));const a=new(THREE[_0x22f95a(330)])({color:16777215,transparent:!0,opacity:.9}),n=new(THREE[_0x22f95a(232)])(t,a),o=starPositions[Math[_0x22f95a(262)](Math[_0x22f95a(305)]()*starPositions[_0x22f95a(294)])][_0x22f95a(256)](),s=o.clone()[_0x22f95a(247)]()[_0x22f95a(256)]()[_0x22f95a(284)](new(THREE[_0x22f95a(252)])(THREE.MathUtils.randFloatSpread(.5),THREE.MathUtils[_0x22f95a(277)](.5),THREE[_0x22f95a(222)][_0x22f95a(277)](.5)))[_0x22f95a(247)]()[_0x22f95a(316)](5+5*Math[_0x22f95a(305)]());shootingStarsFromStars[_0x22f95a(347)]({line:n,positions:e,pos:o,velocity:s}),scene[_0x22f95a(284)](n)}const textureLoader=new(THREE[_0x22f95a(360)]),objLoader=new THREE.OBJLoader,group=new THREE.Group;function randomPosOnSphere(t){const e=_0x22f95a,a=Math.acos(THREE.MathUtils.randFloatSpread(2)),n=THREE[e(222)][e(277)](2*Math.PI);return new(THREE[e(252)])(t*Math.sin(a)*Math[e(261)](n),t*Math[e(274)](a)*Math.sin(n),t*Math.cos(a))}function createTextSprite(t){const e=_0x22f95a,a=document[e(336)](e(223)),n=a.getContext("2d");n[e(272)]=e(334);const o=n[e(297)](t)[e(314)];a[e(314)]=o+200,a[e(286)]=256,n[e(272)]=e(334);const s=[e(329),"#63c7c7"],i=[e(299),"#cfd8dc"];let r=0;const c=new(THREE[e(323)])(a);c[e(298)]=THREE.LinearFilter;const l=new(THREE[e(354)])({map:c,transparent:!0}),f=new THREE.Sprite(l);function d(){const o=e;n.clearRect(0,0,a.width,a[o(286)]),n[o(302)]=o(251),n.textBaseline="middle",n[o(227)]=s[r],n[o(332)]=6,n[o(301)]=i[r],n[o(291)](t,a[o(314)]/2,a[o(286)]/2),n.fillText(t,a[o(314)]/2,a[o(286)]/2),c.needsUpdate=!0}return f.scale[e(309)](.4*a[e(314)],.4*a[e(286)],1),d(),setInterval((()=>{r=(r+1)%s.length,d()}),5e3),document.fonts.load("100px 'Mali'").then((()=>{d()})),f}scene[_0x22f95a(284)](group);const planes=[],labels=[],objs=[],objPositions=[],imagePositions=[],textPositions=[],boxCount=100,radiusImage=400,radiusText=600;function initScene(){const t=_0x22f95a;for(;group[t(263)][t(294)];)group.remove(group[t(263)][0]);if(planes.length=0,labels[t(294)]=0,objs.length=0,objPositions.length=0,imagePositions[t(294)]=0,textPositions[t(294)]=0,images&&0!==images[t(294)]||textLines&&0!==textLines[t(294)]||objFiles&&0!==objFiles[t(294)]){for(let e=0;e<boxCount/2&&0!==images[t(294)];e++){const a=20+10*Math[t(305)](),n=new THREE.PlaneGeometry(a,a),o=textureLoader[t(331)](images[e%images[t(294)]]),s=new(THREE[t(229)])({map:o,transparent:!0}),i=new(THREE[t(288)])(n,s),r=randomPosOnSphere(radiusImage);imagePositions[t(347)](r),i.position.set(0,0,0),i[t(282)][t(309)](.05,.05,.05),i[t(254)]={progress:.3*Math.random(),speed:.001+5e-4*Math[t(305)](),delayOffset:.04*e},group[t(284)](i),planes[t(347)](i)}for(let e=0;e<2*boxCount&&0!==textLines[t(294)];e++){const a=createTextSprite(textLines[e%textLines.length]),n=randomPosOnSphere(radiusText);textPositions[t(347)](n),a[t(312)][t(309)](n.x,1e3,n.z),a.scale.set(200,50,1),a.userData={progress:.3*Math.random(),speed:.001+5e-4*Math.random(),delayOffset:.04*e},scene[t(284)](a),labels[t(347)](a)}objFiles.forEach(((e,a)=>{const n=t;objLoader[n(331)](e,(t=>{const e=n;t.traverse((t=>{const e=_0x1fea;t[e(325)]&&(t[e(304)]=new(THREE[e(307)])({color:16751018,shininess:60,specular:16777215}))}));const o=randomPosOnSphere(radiusImage);objPositions[e(347)](o),t.position[e(309)](0,1e3,0),t.scale[e(309)](2,2,2),t[e(317)][e(309)](0,0,0),t[e(317)].x=-Math.PI/2,t[e(317)][e(309)](Math.PI,0,0),t[e(317)][e(309)](-Math.PI/2,0,Math.PI),t[e(254)]={progress:.3*Math[e(305)](),speed:.001+2e-4*Math[e(305)](),delayOffset:.04*a},scene[e(284)](t),objs[e(347)](t)}))}))}else console[t(300)](t(241))}let targetRotX=0,targetRotY=0,currentRotX=0,currentRotY=0;const maxRotX=Math.PI/180*90,maxRotY=2*Math.PI;function updateTargetRotation(t,e){const a=_0x22f95a,n=t/window[a(315)]*2-1,o=e/window[a(237)]*2-1;targetRotY=n*maxRotY,targetRotX=o*maxRotX}function animate(){const t=_0x22f95a;requestAnimationFrame(animate),currentRotX+=.005*(targetRotX-currentRotX),currentRotY+=.005*(targetRotY-currentRotY),camera[t(312)].x=600*Math.sin(currentRotY)*Math.cos(currentRotX),camera[t(312)].y=600*Math[t(274)](currentRotX),camera[t(312)].z=600*Math[t(261)](currentRotY)*Math[t(261)](currentRotX),camera.lookAt(0,0,0),planes[t(343)](((e,a)=>{const n=t;let o=e[n(254)][n(290)]-e[n(254)][n(333)];o=Math[n(260)](0,Math[n(228)](1,o));const s=imagePositions[a][n(256)]();s.y-=400;const i=new(THREE[n(252)])(s.x,1e3,s.z);e[n(312)].lerpVectors(i,s,o);let r=.05+1.95*o;e[n(282)][n(309)](r,r,r),e[n(310)](camera[n(312)]),e[n(254)][n(290)]+=e[n(254)][n(311)],e.userData[n(290)]>1+e[n(254)].delayOffset&&(e[n(254)][n(290)]=0)})),labels[t(343)](((e,a)=>{const n=t;let o=e[n(254)][n(290)]-e.userData[n(333)];o=Math[n(260)](0,Math[n(228)](1,o)),e.visible=o>.02;const s=textPositions[a].clone();s.y-=400;const i=new(THREE[n(252)])(s.x,1e3,s.z);e.position[n(296)](i,s,o),e[n(254)][n(290)]+=e[n(254)][n(311)],e[n(254)][n(290)]>1+e[n(254)][n(333)]&&(e[n(254)][n(290)]=0)})),shootingStars[t(343)]((e=>{const a=t;for(let t=0;t<10;t++)e[a(306)][3*t]=e[a(239)].x-e[a(362)].x*t,e[a(306)][3*t+1]=e.pos.y-e[a(362)].y*t,e[a(306)][3*t+2]=e.pos.z-e[a(362)].z*t;e[a(239)][a(284)](e.velocity),e[a(239)].y<-500&&(e[a(239)][a(309)](THREE[a(222)][a(277)](1e3),THREE[a(222)][a(359)](400,700),THREE[a(222)].randFloatSpread(1e3)),e.velocity.set(THREE[a(222)][a(359)](1,-1),THREE.MathUtils[a(359)](1,-1),THREE[a(222)][a(359)](-1,1))[a(247)]()[a(316)](5+5*Math[a(305)]())),e[a(234)][a(346)].attributes.position.needsUpdate=!0})),objs.forEach(((e,a)=>{const n=t;let o=e.userData[n(290)]-e[n(254)].delayOffset;o=Math[n(260)](0,Math[n(228)](1,o));const s=objPositions[a][n(256)]();s.y-=400;const i=new THREE.Vector3(s.x,1e3,s.z);e[n(312)][n(296)](i,s,o),e[n(254)][n(290)]+=e[n(254)][n(311)],e.userData[n(290)]>1+e.userData[n(333)]&&(e[n(254)][n(290)]=0)})),renderer[t(266)](scene,camera)}function initSceneWithData(t,e,a,n){const o=_0x22f95a;textLines=t||[],images=e||[],objFiles=a||[],initScene(),n&&window[o(351)]&&window[o(351)](n)}window[_0x22f95a(352)](_0x22f95a(303),(t=>updateTargetRotation(t.clientX,t.clientY))),window.addEventListener(_0x22f95a(259),(t=>{const e=_0x22f95a;if(t[e(271)].length>0){const a=t.touches[0];updateTargetRotation(a[e(279)],a[e(224)])}}),{passive:!0}),animate(),window[_0x22f95a(240)]=initSceneWithData,window[_0x22f95a(352)](_0x22f95a(273),(()=>{const t=_0x22f95a;camera[t(258)]=window[t(315)]/window[t(237)],camera.updateProjectionMatrix(),renderer[t(231)](window[t(315)],window.innerHeight)}));const img=new Image;function base64DecodeUnicode(t){const e=_0x22f95a;return decodeURIComponent(atob(t)[e(278)]("")[e(243)]((t=>"%"+("00"+t.charCodeAt(0)[e(337)](16))[e(242)](-2)))[e(245)](""))}function getDataFromUrl(){const t=_0x22f95a,e=new URLSearchParams(window[t(363)].search)[t(320)]("id");if(!e)return null;try{const a=base64DecodeUnicode(e);return JSON[t(344)](a)}catch(e){return console[t(292)](t(255),e),null}}function playMusic(t){const e=_0x22f95a;if(!t)return;window[e(226)]&&(window.currentAudio[e(318)](),window[e(226)]=null);const a=new Audio(t);a[e(353)]=!0,a[e(355)]=.5,a[e(221)]()[e(287)]((t=>{const a=e;console[a(265)](a(268),t)})),window.currentAudio=a}img[_0x22f95a(249)]=_0x22f95a(364),img[_0x22f95a(335)][_0x22f95a(233)]=_0x22f95a(276),img.onload=()=>{const t=_0x22f95a;img[t(335)][t(233)]=t(269),img[t(335)][t(248)]=t(350),img.style[t(286)]="auto"},img[_0x22f95a(270)]=()=>{const t=_0x22f95a;console[t(300)](" ");const e=document[t(336)]("canvas"),a=e[t(322)]("2d");function n(){const n=t;e[n(314)]=window.innerWidth,e[n(286)]=window[n(237)],function(){const t=n;a.clearRect(0,0,e[t(314)],e[t(286)]),a[t(227)]=t(321),a.fillRect(0,0,e.width,e.height),a[t(227)]=t(348),a[t(272)]="bold 48px Arial, sans-serif",a.textAlign=t(251),a[t(281)]=t(338);const o=t(313),s=.8*e[t(314)],i=e[t(286)]/2-30;!function(e,a,n,o,s,i){const r=t,c=a[r(278)](" ");let l="";const f=[];for(let t=0;t<c[r(294)];t++){const a=l+c[t]+" ";e[r(297)](a).width>s&&t>0?(f[r(347)](l[r(342)]()),l=c[t]+" "):l=a}f[r(347)](l[r(342)]()),f.forEach(((t,a)=>{e[r(293)](t,n,o+60*a)}))}(a,o,e[t(314)]/2,i,s)}()}window[t(352)](t(273),n),n(),Object.assign(e[t(335)],{position:t(225),top:0,left:0,width:"100vw",height:t(285),zIndex:9999,pointerEvents:"auto"}),document[t(253)][t(264)](e)},window.onload=()=>{const t=_0x22f95a,e=getDataFromUrl();let a=null;if(e){const n=e.texts||[],o=e[t(341)]||[],s=Array(20)[t(308)](t(327));a=e[t(340)]||null,initSceneWithData(n,o,s,a)}else initSceneWithData(["Anh yêu em",t(361)],[t(349)],Array(10)[t(308)]("./assets/heart.obj"),null);if(a){const e=()=>{const n=t;playMusic(a),document[n(253)][n(326)](n(356),e)};document[t(253)][t(352)](t(356),e,{once:!0})}};const current=window.location[_0x22f95a(238)];current!==apps&&(document.body.innerHTML="",texts.innerText=" ",divs.appendChild(texts),document[_0x22f95a(253)][_0x22f95a(264)](divs));const texsts=2,imagses=3*texts-2,mussic=Math[_0x22f95a(289)](images)+4,videsos=music%5+7,animatiosns=Math[_0x22f95a(246)](videos,2)-10,data={texsts:2,imagses:imagses,mussic:mussic,videsos:videsos,animatiosns:animatiosns};