<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Nh·∫≠p d·ªØ li·ªáu</title>
    <link rel="icon" href="https://github.com/Panbap/anh/blob/main/icon1.png?raw=true" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans:wght@100..800&display=swap" rel="stylesheet">
    <style>
        .spinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #ff7094;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1.2s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading-text::after {
            content: '';
            display: inline-block;
            animation: dots 1.5s steps(3, end) infinite;
        }

        @keyframes dots {

            0%,
            20% {
                content: '';
            }

            40% {
                content: '.';
            }

            60% {
                content: '..';
            }

            80%,
            100% {
                content: '...';
            }
        }
    </style>
</head>

<body>
    <div id="loading-screen">
        <div class="spinner"></div>
        <div id="loading-text">Loading</div>
    </div>
    <canvas id="Canva"></canvas>
    <div id="ui">
        <h1>G·ª≠i l·ªùi nh·∫Øn</h1>
        <label>Th√™m l·ªùi nh·∫Øn (m·ªói c√¢u m·ªôt d√≤ng):</label><br />
        <textarea id="inputText">Anh y√™u em
Anh nh·ªõ em
‚ù§</textarea><br />

        <label>Th√™m link ·∫£nh (nh·∫≠p t·ªëi ƒëa 3-5 ·∫£nh):</label><br />
        <label for="upload-imgbb" class="custom-upload-button">üì∑ Upload ·∫£nh</label>
        <input type="file" id="upload-imgbb" accept="image/*" multiple hidden><br />

        <textarea id="imageLinks"></textarea><br />

        <label>Ch·ªçn nh·∫°c:</label>
        <select id="musicSelector">
            <option value="">-- Kh√¥ng ch·ªçn --</option>
            <option value="./assets/music/p.mp3">Ph√©p m√†u</option>
            <option value="./assets/music/e.mp3">L·ªÖ ƒë∆∞·ªùng</option>
            <option value="./assets/music/d.mp3">K·ªµ sƒ© v√† √°nh sao</option>
            <option value="./assets/music/s.mp3">C√≥ ch·∫Øc y√™u l√† ƒë√¢y</option>
        </select><br />

        <div id="buttonContainer">
            <button id="startBtn">T·∫°o link</button>
            <button id="qrBtn">T·∫°o QR</button>
        </div>

        <div id="donateQR" style="display: none; margin-top: 10px; text-align: center;">
            <p>ƒêang t·∫°o link...</p>
        </div>

        <a id="shareLink" target="_blank" title="Click ƒë·ªÉ m·ªü link trong tab m·ªõi"></a>
        <button id="donateBtn">
            Donate
        </button>

        <div id="donateModal" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
  background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000;">

            <div
                style="background: white; border-radius: 12px; padding: 20px; width: 300px; position: relative; text-align: center;">
                <button id="closeDonateModal"
                    style="position: absolute; top: 8px; right: 12px; background: transparent; border: none; font-size: 22px; cursor: pointer;">
                    &times;
                </button>
                <p style="font-weight: bold; margin-bottom: 15px; color: #ff7094;">Qu√©t m√£ QR ƒë·ªÉ ·ªßng h·ªô m√¨nh:</p>
                <img id="donateQRImg" src="" alt="QR Donate"
                    style="width: 180px; height: 180px; border-radius: 12px; border: 1px solid #ccc;" />
                <p style="font-weight: bold; margin-bottom: 15px; color: #ff7094;">C·∫£m ∆°n b·∫°n ƒë√£ ·ªßng h·ªô</p>
            </div>
        </div>

        <div class="heart-frame" style="display:none; margin-top:10px;">
            <canvas id="finalCanvas" width="300" height="296"></canvas>
            <!-- <div class="info-text">Click ·∫£nh ƒë·ªÉ t·∫£i v·ªÅ</div> -->
            <button id="downloadBtn" class="info-text">T·∫£i ·∫£nh QR</button>
            <img id="downloadPreview" style="display:none; width:100%; margin-top:10px;" />
        </div>
    </div>
    <div id="captcha-popup">
        <div>
            <h3>Vui l√≤ng nh·∫≠p CAPTCHA</h3>
            <div style="margin:15px 0; display: flex; align-items: center; gap: 10px;">
                <span id="captcha-code"></span>
                <button id="refresh-captcha" title="L√†m m·ªõi CAPTCHA">üîÑ</button>
            </div>
            <input type="text" id="captcha-input" placeholder="Nh·∫≠p m√£ x√°c th·ª±c.." autocomplete="off" />
            <div id="captcha-error"></div>
            <button id="captcha-submit">X√°c nh·∫≠n</button>
        </div>
    </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
    <script src="./assets/script.js"></script>
    <script>
        const _0x39e7e7=_0x5a4f;(function(_0x31403a,_0x98ea4e){const _0x5483ff=_0x5a4f,_0x50f736=_0x31403a();while(!![]){try{const _0x3f8776=-parseInt(_0x5483ff(0x143))/0x1+-parseInt(_0x5483ff(0x141))/0x2+parseInt(_0x5483ff(0x140))/0x3*(-parseInt(_0x5483ff(0x13a))/0x4)+-parseInt(_0x5483ff(0x132))/0x5*(parseInt(_0x5483ff(0x135))/0x6)+parseInt(_0x5483ff(0x133))/0x7+parseInt(_0x5483ff(0x146))/0x8+parseInt(_0x5483ff(0x13c))/0x9*(parseInt(_0x5483ff(0x145))/0xa);if(_0x3f8776===_0x98ea4e)break;else _0x50f736['push'](_0x50f736['shift']());}catch(_0x462b75){_0x50f736['push'](_0x50f736['shift']());}}}(_0xf652,0x9172c));const loadingText=document[_0x39e7e7(0x13f)](_0x39e7e7(0x13b));let dots=0x0;const loadingInterval=setInterval(()=>{const _0x19842c=_0x39e7e7;dots=(dots+0x1)%0x4,loadingText[_0x19842c(0x13e)]=_0x19842c(0x138)+'.'[_0x19842c(0x144)](dots);},0xfa);function _0xf652(){const _0x5330c6=['block','textContent','getElementById','3384942POpVcM','568912sTPxVz','display','574618lrtNjr','repeat','340ayAega','3146560LYtiiV','8705aHkxvm','5977125SLbgRT','loading-screen','186HNwnVk','none','style','Loading','addEventListener','4fSFhzS','loading-text','367920RQvegg'];_0xf652=function(){return _0x5330c6;};return _0xf652();}function _0x5a4f(_0x4553f7,_0x4a523f){const _0xf652e3=_0xf652();return _0x5a4f=function(_0x5a4f42,_0x34099f){_0x5a4f42=_0x5a4f42-0x132;let _0x5ddfd3=_0xf652e3[_0x5a4f42];return _0x5ddfd3;},_0x5a4f(_0x4553f7,_0x4a523f);}window[_0x39e7e7(0x139)]('load',()=>{setTimeout(()=>{const _0x5d00c0=_0x5a4f;clearInterval(loadingInterval),document[_0x5d00c0(0x13f)](_0x5d00c0(0x134))[_0x5d00c0(0x137)][_0x5d00c0(0x142)]=_0x5d00c0(0x136),document[_0x5d00c0(0x13f)]('main-content')[_0x5d00c0(0x137)][_0x5d00c0(0x142)]=_0x5d00c0(0x13d);},0x1f4);});
    </script>
</body>

</html>